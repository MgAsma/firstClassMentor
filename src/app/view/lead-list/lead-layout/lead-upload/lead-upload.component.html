

<ng-container [@sheetState]="isOpen ? 'open' : 'closed'">
    
    <mat-card class="p-0 m-0">
      <div class="add-users mat-dialog-header">
        <div class="row">
            <div class="col"><h1 mat-dialog-title>Upload Leads</h1></div>
            <div class="col-1 close-icon">
              <mat-icon (click)="closePopup()">close</mat-icon>
          </div>
        </div>
      </div>
        <mat-dialog-content class="mat-typography">
          <form [formGroup]="uploadLeadForm"  >
         <div class="container">
          <ng-container>
          <b>Step 1 - Select Channel,Lead Owner,Referred To Details.</b>
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Channel</mat-label>
            <mat-select placeholder="Select Channel" formControlName="channel">
              <mat-option *ngFor="let channels of channelList" [value]="channels">{{channels}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('channel')"
              *ngIf="f['channel']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
          </mat-form-field>
          
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Source</mat-label>
            <mat-select placeholder="Select Source" formControlName="source">
              <mat-option *ngFor="let sources of sourceList" [value]="sources">{{sources}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('source')"
              *ngIf="f['source']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
          </mat-form-field>
        

          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Priority</mat-label>
            <mat-select placeholder="Select Priority" formControlName="priority">
              <mat-option *ngFor="let prioritys of priorityList" [value]="prioritys">{{prioritys}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('priority')"
              *ngIf="f['priority']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
          </mat-form-field>
       
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Status</mat-label>
            <mat-select placeholder="Select Status" formControlName="status">
              <mat-option *ngFor="let status of statusList" [value]="status">{{status}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('status')"
              *ngIf="f['status']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
          </mat-form-field>
        
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Lead Owner</mat-label>
            <mat-select placeholder="Select Lead Owner" formControlName="leadOwner">
              <mat-option *ngFor="let leadOwner of leadOwnerList" [value]="leadOwner">{{leadOwner}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('leadOwner')"
              *ngIf="f['leadOwner']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
            <mat-error *ngIf="f['leadOwner'].hasError('required')">Lead Owner Is Required</mat-error>
          </mat-form-field>
         
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Reason</mat-label>
            <mat-select placeholder="Select Reason" formControlName="reason">
              <mat-option *ngFor="let reason of reasonList" [value]="reason">{{reason}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('reason')"
              *ngIf="f['reason']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
          </mat-form-field>

          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Referred To</mat-label>
            <mat-select placeholder="Select Referred To" formControlName="referedTo">
              <mat-option *ngFor="let referedTo of referedToList" [value]="referedTo">{{referedTo}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('referedTo')"
              *ngIf="f['referedTo']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
            <mat-error *ngIf="f['referedTo'].hasError('required')">Referred To Is Required</mat-error>
          </mat-form-field>
     
        </ng-container>
        <ng-container>
          <b>Step-2 Select Department,Course And Location Details</b>
         
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Department</mat-label>
            <mat-select placeholder="Select Department" formControlName="department">
              <mat-option *ngFor="let department of departmentList" [value]="department">{{department}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('department')"
              *ngIf="f['department']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
            <mat-error *ngIf="f['referedTo'].hasError('required')">Referred To Is Required</mat-error>
          </mat-form-field>

            
          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Course</mat-label>
            <mat-select placeholder="Select Course" formControlName="course">
              <mat-option *ngFor="let course of courseList" [value]="course">{{course}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('course')"
              *ngIf="f['course']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
            <mat-error *ngIf="f['referedTo'].hasError('required')">Referred To Is Required</mat-error>
          </mat-form-field>

          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select Country</mat-label>
            <mat-select placeholder="Select Country" formControlName="country">
              <mat-option *ngFor="let country of countryList" [value]="country">{{country}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('country')"
              *ngIf="f['country']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
            <mat-error *ngIf="f['referedTo'].hasError('required')">Referred To Is Required</mat-error>
          </mat-form-field>

          <mat-form-field class="mb-1" appearance="outline">
            <mat-label>Select City</mat-label>
            <mat-select placeholder="Select City" formControlName="city">
              <mat-option *ngFor="let city of cityList" [value]="city">{{city}}</mat-option> 
            </mat-select>
            <button
              mat-button
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="clearSelectField('city')"
              *ngIf="f['city']?.value"
            >
              <mat-icon>clear</mat-icon>
            </button>
            <mat-error *ngIf="f['referedTo'].hasError('required')">Referred To Is Required</mat-error>
          </mat-form-field>
          <div class="mb-2">
            <mat-checkbox formControlName="welcomeEmail">Send Welcome Email</mat-checkbox>
          </div>
         <div class="mb-2">
          <mat-checkbox formControlName="welcomeSms">Send Welcome SMS</mat-checkbox>
         </div>
         
        </ng-container>
        <ng-container>
          <b class="mt-1">Step 3 - Upload File With Prospect Candidate Details <b class="mandatory-symbol">*</b></b>
        
          <mat-form-field class="my-2">
            <mat-label *ngIf="selectedFiles; else newFile">{{selectedFiles.item(0).name}}</mat-label>
            <ng-template #newFile >
                <mat-label>Choose file</mat-label>
            </ng-template>
            <input matInput disabled>
            <button mat-icon-button matSuffix (click)="fileInput.click()">
              <mat-icon class="forward-icon">forward</mat-icon>
            </button>
            <input hidden (change)="selectFile($event)" #fileInput type="file" id="file">
        </mat-form-field>
        </ng-container>
         
        </div>
      </form>
      
        </mat-dialog-content>
     
      <mat-dialog-actions class="d-flex">
        <button class="mat-cancel m-1" mat-button mat-dialog-close>CANCEL</button>
        <button class="mat-disable m-1" mat-button [mat-dialog-close]="true" cdkFocusInitial (click)="onSubmit()">UPLOAD</button>
      </mat-dialog-actions>
    </mat-card>
   
  </ng-container>
  
  