"use strict";(self.webpackChunkphase_1=self.webpackChunkphase_1||[]).push([[149],{7692:(q,g,a)=>{a.d(g,{A:()=>C});var m=a(7579),u=a(1135),t=a(4650);let C=(()=>{class p{constructor(){this.refresh=new m.x,this.getRefresh=this.refresh.asObservable(),this.payment=new m.x,this.getRefreshPayment=this.payment.asObservable(),this.allocateSearch=new u.X(""),this.refreshByFilter=new m.x,this.getRefreshByFilter=this.refreshByFilter.asObservable()}paymentLink(){return this.payment.next()}sendRefresh(l){return this.refresh.next(l)}sendRefreshbyFilter(l){return this.refreshByFilter.next(l)}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},5149:(q,g,a)=>{a.r(g),a.d(g,{CityModule:()=>ut});var m=a(6895),u=a(9299),t=a(4650);let C=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-city"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},dependencies:[u.lC]}),i})();var p=a(8739),f=a(6308),l=a(7155),s=a(4006),d=a(5938),y=a(9459),v=a(7692),A=a(4859),Z=a(7392),h=a(9549),x=a(4144),b=a(6709),N=a(4385),S=a(3238);function U(i,o){1&i&&(t.TgZ(0,"div"),t._uU(1," City Name Is Required "),t.qZA())}function I(i,o){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,U,2,0,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors&&e.f.name.errors.required)}}function w(i,o){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function F(i,o){1&i&&(t.TgZ(0,"div"),t._uU(1," State Is Required "),t.qZA())}function Y(i,o){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,F,2,0,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.state_id.errors&&e.f.state_id.errors.required)}}let O=(()=>{class i{constructor(e,n,r,c,_){this._fb=e,this.api=n,this.dialogRef=r,this.emit=c,this._id=_,this.allState=[],this.is_metropolitan=!1,this.is_checked=!1,this.id=_}ngOnInit(){this.initFilter()}initFilter(){this.editForm=this._fb.group({name:["",[s.kI.required]],state_id:["",[s.kI.required]],is_metro_politan:["",[s.kI.required]]}),this.getCitybyId(),this.getState()}get f(){return this.editForm.controls}getState(){this.api.getAllState().subscribe(e=>{this.allState=e.results},e=>{})}getCitybyId(){this.api.getCityById(this.id).subscribe(e=>{this.editForm.patchValue({name:e.result[0].name}),this.editForm.patchValue({state_id:e.result[0].state_id}),this.editForm.patchValue({is_metro_politan:e.result[0].is_metro_politan}),this.is_metropolitan=1==e.result[0].is_metro_politan},e=>{})}onChange(e){this.is_metropolitan=e.checked}edit(){this.editForm.patchValue({is_metro_politan:this.is_metropolitan}),this.editForm.invalid||this.api.editCity(this.id,this.editForm.value).subscribe(e=>{this.emit.sendRefresh(!0),this.dialogRef.close(),this.api.showSuccess(this.api.toTitleCase(e.message))},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(y.s),t.Y36(d.so),t.Y36(v.A),t.Y36(d.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-city"]],decls:35,vars:5,consts:[[3,"formGroup"],[1,"mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"container"],[1,"mat-typography"],[1,"col-12","col-md-12"],["appearance","outline",1,"example-full-width"],["formControlName","name","type","text","matInput","","placeholder","City Name"],[4,"ngIf"],["appearance","outline"],["formControlName","state_id"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],[3,"checked","change"],["align","end"],["mat-button","","mat-dialog-close","",1,"mat-cancel"],["mat-button","","cdkFocusInitial","",1,"mat-disable",3,"click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Edit City"),t.qZA()(),t.TgZ(6,"div",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"mat-dialog-content",8)(11,"div",2)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"City Name"),t.qZA(),t._UZ(16,"input",11),t.qZA(),t.YNc(17,I,2,1,"mat-error",12),t.qZA()(),t.TgZ(18,"div",2)(19,"div",9)(20,"mat-form-field",13)(21,"mat-label"),t._uU(22,"State"),t.qZA(),t.TgZ(23,"mat-select",14),t.YNc(24,w,2,2,"mat-option",15),t.qZA()(),t.YNc(25,Y,2,1,"mat-error",12),t.qZA()(),t.TgZ(26,"div",2)(27,"div",16)(28,"mat-checkbox",17),t.NdJ("change",function(c){return n.onChange(c)}),t._uU(29,"Is Metropolitan"),t.qZA()()()()(),t.TgZ(30,"mat-dialog-actions",18)(31,"button",19),t._uU(32,"CANCEL"),t.qZA(),t.TgZ(33,"button",20),t.NdJ("click",function(){return n.edit()}),t._uU(34,"UPDATE"),t.qZA()()()),2&e&&(t.Q6J("formGroup",n.editForm),t.xp6(17),t.Q6J("ngIf",n.f.name.invalid&&n.f.name.touched),t.xp6(7),t.Q6J("ngForOf",n.allState),t.xp6(1),t.Q6J("ngIf",n.f.state_id.invalid&&n.f.state_id.touched),t.xp6(3),t.Q6J("checked",n.is_metropolitan))},dependencies:[m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,A.lW,Z.Hw,h.TO,h.KE,h.hX,x.Nt,b.oG,N.gD,S.ey,d.ZT,d.uh,d.xY,d.H8]}),i})();function L(i,o){1&i&&(t.TgZ(0,"div"),t._uU(1," City Name Is Required "),t.qZA())}function D(i,o){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,L,2,0,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors&&e.f.name.errors.required)}}function E(i,o){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function J(i,o){1&i&&(t.TgZ(0,"div"),t._uU(1," State Is Required "),t.qZA())}function M(i,o){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,J,2,0,"div",12),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.state_id.errors&&e.f.state_id.errors.required)}}let R=(()=>{class i{constructor(e,n,r,c){this._fb=e,this.api=n,this.dialogRef=r,this.emit=c,this.allState=[],this.is_metropolitan=!1}ngOnInit(){this.initFilter(),this.getState()}initFilter(){this.addForm=this._fb.group({name:["",[s.kI.required]],is_active:[!0,[s.kI.required]],is_system_value:[!0,[s.kI.required]],state_id:["",[s.kI.required]],is_metro_politan:["",[s.kI.required]]})}get f(){return this.addForm.controls}onChange(e){this.is_metropolitan=e.checked}getState(){this.api.getAllState().subscribe(e=>{this.allState=e.results},e=>{})}submit(){this.addForm.patchValue({is_metro_politan:this.is_metropolitan}),this.addForm.invalid||this.api.postCity(this.addForm.value).subscribe(e=>{this.emit.sendRefresh(!0),this.dialogRef.close(),this.api.showSuccess(this.api.toTitleCase(e.message))},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(y.s),t.Y36(d.so),t.Y36(v.A))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-city"]],decls:35,vars:4,consts:[[3,"formGroup"],[1,"mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"container"],[1,"mat-typography"],[1,"col-12","col-md-12"],["appearance","outline",1,"example-full-width"],["formControlName","name","type","text","matInput","","placeholder","City Name"],[4,"ngIf"],["appearance","outline"],["formControlName","state_id"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],[3,"change"],["align","end"],["mat-button","","mat-dialog-close","",1,"mat-cancel"],["mat-button","","cdkFocusInitial","",1,"mat-disable",3,"click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Add City"),t.qZA()(),t.TgZ(6,"div",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"mat-dialog-content",8)(11,"div",2)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"City Name"),t.qZA(),t._UZ(16,"input",11),t.qZA(),t.YNc(17,D,2,1,"mat-error",12),t.qZA()(),t.TgZ(18,"div",2)(19,"div",9)(20,"mat-form-field",13)(21,"mat-label"),t._uU(22,"State"),t.qZA(),t.TgZ(23,"mat-select",14),t.YNc(24,E,2,2,"mat-option",15),t.qZA()(),t.YNc(25,M,2,1,"mat-error",12),t.qZA()(),t.TgZ(26,"div",2)(27,"div",16)(28,"mat-checkbox",17),t.NdJ("change",function(c){return n.onChange(c)}),t._uU(29,"Is Metropolitan"),t.qZA()()()()(),t.TgZ(30,"mat-dialog-actions",18)(31,"button",19),t._uU(32,"CANCEL"),t.qZA(),t.TgZ(33,"button",20),t.NdJ("click",function(){return n.submit()}),t._uU(34,"ADD"),t.qZA()()()),2&e&&(t.Q6J("formGroup",n.addForm),t.xp6(17),t.Q6J("ngIf",n.f.name.invalid&&n.f.name.touched),t.xp6(7),t.Q6J("ngForOf",n.allState),t.xp6(1),t.Q6J("ngIf",n.f.state_id.invalid&&n.f.state_id.touched))},dependencies:[m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,A.lW,Z.Hw,h.TO,h.KE,h.hX,x.Nt,b.oG,N.gD,S.ey,d.ZT,d.uh,d.xY,d.H8]}),i})();var Q=a(2340),k=a(7903),T=a(2953),P=a(6219);const B=["myDropdown"];function z(i,o){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-nodata",15),t.qZA())}function G(i,o){1&i&&(t.TgZ(0,"th",29),t._uU(1,"City Name"),t.qZA())}function H(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",30),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.openEdit(c.id))}),t._uU(1),t.ALo(2,"titlecase"),t.qZA()}if(2&i){const e=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.name))}}function V(i,o){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Is Active"),t.qZA())}function $(i,o){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.is_active)}}function j(i,o){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Is Sysytem value"),t.qZA())}function K(i,o){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.is_system_value)}}function W(i,o){1&i&&(t.TgZ(0,"th",29),t._uU(1,"State"),t.qZA())}function X(i,o){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.state_name)}}function tt(i,o){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Is metropolitan"),t.qZA())}function et(i,o){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.is_metro_politan)}}function it(i,o){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Option"),t.qZA())}function ot(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",31)(1,"div",32,33)(3,"mat-icon",34),t._uU(4,"more_vert"),t.qZA(),t.TgZ(5,"div",35)(6,"div",36),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.openDelete(c.id))}),t.TgZ(7,"mat-icon",37),t._uU(8,"delete"),t.qZA(),t._uU(9," Delete "),t.qZA()()()()}}function nt(i,o){1&i&&t._UZ(0,"tr",38)}function at(i,o){1&i&&t._UZ(0,"tr",39)}function rt(i,o){if(1&i&&(t.TgZ(0,"div",16)(1,"table",17),t.ynx(2,18),t.YNc(3,G,2,0,"th",19),t.YNc(4,H,3,3,"td",20),t.BQk(),t.ynx(5,21),t.YNc(6,V,2,0,"th",19),t.YNc(7,$,2,1,"td",22),t.BQk(),t.ynx(8,23),t.YNc(9,j,2,0,"th",19),t.YNc(10,K,2,1,"td",22),t.BQk(),t.ynx(11,24),t.YNc(12,W,2,0,"th",19),t.YNc(13,X,2,1,"td",22),t.BQk(),t.ynx(14,25),t.YNc(15,tt,2,0,"th",19),t.YNc(16,et,2,1,"td",22),t.BQk(),t.ynx(17,26),t.YNc(18,it,2,0,"th",19),t.YNc(19,ot,10,0,"td",22),t.BQk(),t.YNc(20,nt,1,0,"tr",27),t.YNc(21,at,1,0,"tr",28),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}const st=function(){return[10,25,100]};function lt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",40),t.NdJ("page",function(r){t.CHM(e);const c=t.oxw();return t.KtG(c.pageChanged(r))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("length",e.totalPageLength)("pageSizeOptions",t.DdM(2,st))}}const ct=[{path:"",component:C,children:[{path:"list",component:(()=>{class i{constructor(e,n,r){this.dialog=e,this.api=n,this.emit=r,this.displayedColumns=["name","is_active","is_system_value","state_name","is_metro_politan","delete"],this.dataSource=new l.by,this.allCity=[],this.pageSize=10,this.currentPage=1,this.baseurl=Q.N.live_url}ngOnInit(){this.emit.getRefresh.subscribe(e=>{1==e&&this.getCity()})}ngAfterViewInit(){this.getCity(),this.dataSource.paginator=this.paginator}applyFilter(e){this.searchValue=e.target.value,""==e.target.value&&this.getCity()}search(){this.searchValue?.length>0&&this.api.getCitySearch(this.searchValue,this.pageSize,this.currentPage).subscribe(e=>{this.allCity=e.results,this.dataSource=new l.by(this.allCity),this.totalPageLength=e.total_no_of_record,this.dataSource.sort=this.sort},e=>{this.api.showError(e.error.message)})}getCity(){this.api.getCity(this.pageSize,this.currentPage).subscribe(e=>{this.allCity=e.results,this.dataSource=new l.by(this.allCity),this.totalPageLength=e.total_no_of_record,this.dataSource.sort=this.sort},e=>{this.api.showError(e.error.message)})}pageChanged(e){this.pageSize=e.pageSize,this.currentPage=e.pageIndex+1,this.searchValue?.length>0?this.search():this.api.getCity(this.pageSize,this.currentPage).subscribe(n=>{this.allCity=n.results,this.dataSource=new l.by(this.allCity),this.totalPageLength=n.total_no_of_record},n=>{this.api.showError(n.error.message)})}openAdd(){const e=this.dialog.open(R,{width:"35%"});e.disableClose=!0,e.afterClosed().subscribe(n=>{})}openEdit(e){const n=this.dialog.open(O,{width:"35%",data:e});n.disableClose=!0,n.afterClosed().subscribe(r=>{})}openDelete(e){const r=this.dialog.open(k.T,{width:"35%",data:`${this.baseurl}/api/city/${e}/`});r.disableClose=!0,r.afterClosed().subscribe(c=>{})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.uw),t.Y36(y.s),t.Y36(v.A))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-city-list"]],viewQuery:function(e,n){if(1&e&&(t.Gf(B,5),t.Gf(p.NW,5),t.Gf(f.YE,5)),2&e){let r;t.iGM(r=t.CRH())&&(n.myDropdown=r.first),t.iGM(r=t.CRH())&&(n.paginator=r.first),t.iGM(r=t.CRH())&&(n.sort=r.first)}},decls:22,vars:3,consts:[[1,"head-container"],["routerLink","/advancesettings",1,"h1-set-header"],[1,"bi","bi-chevron-right"],["routerLink","/advancesettings/setupDropDownValues",1,"h1-set-header"],[1,"row","m-4"],[1,"col-sm-12","col-md-6","col-lg-8","text-end"],["data-bs-toggle","tooltip","title","Add City",1,"more-inner-icon",3,"click"],[1,"col-sm-12","col-md-6","col-lg-4"],[1,"input-group","z-s"],["type","search","placeholder","Search City",1,"form-control",3,"input"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-search"],[4,"ngIf"],["class","genericTable",4,"ngIf"],["aria-label","Select page of users",3,"length","pageSizeOptions","page",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],[1,"genericTable"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","user-name",3,"click",4,"matCellDef"],["matColumnDef","is_active"],["mat-cell","",4,"matCellDef"],["matColumnDef","is_system_value"],["matColumnDef","state_name"],["matColumnDef","is_metro_politan"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"user-name",3,"click"],["mat-cell",""],["ngbDropdown",""],["myDropdown","ngbDropdown"],["title","More","matBadgeColor","warn","id","dropdownBasic1","ngbDropdownToggle","",1,"more-icon"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"more-dropdown"],["ngbDropdownToggle","",1,"app-list",3,"click"],["data-bs-toggle","modal",1,"more-inner-icon"],["mat-header-row",""],["mat-row",""],["aria-label","Select page of users",3,"length","pageSizeOptions","page"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h1")(2,"span",1),t._uU(3,"Advance Settings "),t._UZ(4,"i",2),t.qZA(),t.TgZ(5,"span",3),t._uU(6,"Setup Dropdown Values "),t._UZ(7,"i",2),t.qZA(),t.TgZ(8,"span"),t._uU(9,"City Name"),t.qZA()()(),t.TgZ(10,"div",4)(11,"div",5)(12,"mat-icon",6),t.NdJ("click",function(){return n.openAdd()}),t._uU(13," format_list_bulleted_add"),t.qZA()(),t.TgZ(14,"div",7)(15,"div",8)(16,"input",9),t.NdJ("input",function(c){return n.applyFilter(c)}),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return n.search()}),t._UZ(18,"i",11),t.qZA()()()(),t.YNc(19,z,2,0,"div",12),t.YNc(20,rt,22,3,"div",13),t.YNc(21,lt,1,3,"mat-paginator",14)),2&e&&(t.xp6(19),t.Q6J("ngIf",0==n.dataSource.data.length),t.xp6(1),t.Q6J("ngIf",n.dataSource.data.length>0),t.xp6(1),t.Q6J("ngIf",n.dataSource.data.length>0))},dependencies:[m.O5,u.rH,T.jt,T.iD,T.Vi,P.H,Z.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,p.NW,f.YE,m.rS],styles:["table[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-weight:600;line-height:23px;font-size:20px;color:#393939!important}.head-container[_ngcontent-%COMP%]{padding:15px 15px 11px;border-bottom:1px solid rgb(216,216,216);background-color:transparent!important}.bi-funnel-fill[_ngcontent-%COMP%], .bi-person-plus-fill[_ngcontent-%COMP%]{margin:0 10px;font-size:20px;text-align:right!important}.more-icon[_ngcontent-%COMP%]{line-height:33px!important;cursor:pointer}.more-dropdown[_ngcontent-%COMP%]{width:191px;padding:20px}.more-inner-icon[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:20px;cursor:pointer}.app-list[_ngcontent-%COMP%]{padding:3px;cursor:pointer}.user-name[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700}.more-inner-icon[_ngcontent-%COMP%]{font-size:25px}"]}),i})()},{path:"",redirectTo:"list",pathMatch:"full"}]}];let dt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.Bz.forChild(ct),u.Bz]}),i})();var mt=a(4466),pt=a(3773);let ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.ez,dt,mt.m,pt.q]}),i})()}}]);