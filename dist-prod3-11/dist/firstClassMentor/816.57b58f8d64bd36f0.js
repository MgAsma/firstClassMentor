"use strict";(self.webpackChunkphase_1=self.webpackChunkphase_1||[]).push([[816],{7692:(N,_,n)=>{n.d(_,{A:()=>h});var m=n(7579),S=n(1135),v=n(4650);let h=(()=>{class t{constructor(){this.refresh=new m.x,this.getRefresh=this.refresh.asObservable(),this.payment=new m.x,this.getRefreshPayment=this.payment.asObservable(),this.allocateSearch=new S.X(""),this.refreshByFilter=new m.x,this.getRefreshByFilter=this.refreshByFilter.asObservable()}paymentLink(){return this.payment.next()}sendRefresh(g){return this.refresh.next(g)}sendRefreshbyFilter(g){return this.refreshByFilter.next(g)}}return t.\u0275fac=function(g){return new(g||t)},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8816:(N,_,n)=>{n.r(_),n.d(_,{LeadStagesModule:()=>X});var m=n(6895),S=n(4466),v=n(3773),h=n(9299),t=n(4650);let C=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-lead-stages"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[h.lC]}),a})();var g=n(7903),p=n(2340),r=n(4006),c=n(5938),L=n(9459),Z=n(7692),b=n(4039),A=n(4859),T=n(7392),f=n(9549),y=n(4144);function U(a,o){1&a&&(t.TgZ(0,"div"),t._uU(1," Lead Stage Is Required "),t.qZA())}function E(a,o){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,U,2,0,"div",12),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors&&e.f.name.errors.required)}}let F=(()=>{class a{constructor(e,i,s,l,u,tt){this._fb=e,this.api=i,this.dialogRef=s,this.data=l,this.emit=u,this.baseService=tt}ngOnInit(){this.initFilter(),this.getSelectedStage()}initFilter(){this.editForm=this._fb.group({name:["",[r.kI.required]]})}get f(){return this.editForm.controls}getSelectedStage(){this.editForm.patchValue({name:this.data.name})}submit(){this.editForm.invalid?this.editForm.markAllAsTouched():this.baseService.updateData(`${p.N.leadStage}${this.data.id}/`,{id:this.data.id,name:this.editForm.value.name,created_date_time:this.data.created_date_time,updated_date_time:null}).subscribe(i=>{this.emit.sendRefresh(!0),this.dialogRef.close(),this.api.showSuccess(this.api.toTitleCase(i.message))},i=>{this.api.showError(this.api.toTitleCase(i.error.message))})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(r.qu),t.Y36(L.s),t.Y36(c.so),t.Y36(c.WI),t.Y36(Z.A),t.Y36(b.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-stage"]],decls:23,vars:2,consts:[[3,"formGroup"],[1,"mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"container"],[1,"mat-typography"],[1,"col-12","col-md-12"],["appearance","outline",1,"example-full-width"],["formControlName","name","type","text","matInput","","placeholder","Enter Lead Stage"],[4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close","",1,"mat-cancel"],["mat-button","","cdkFocusInitial","",1,"mat-disable",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Edit Lead Stage"),t.qZA()(),t.TgZ(6,"div",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"mat-dialog-content",8)(11,"div",2)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Lead Stage"),t.qZA(),t._UZ(16,"input",11),t.YNc(17,E,2,1,"mat-error",12),t.qZA()()()()(),t.TgZ(18,"mat-dialog-actions",13)(19,"button",14),t._uU(20,"CANCEL"),t.qZA(),t.TgZ(21,"button",15),t.NdJ("click",function(){return i.submit()}),t._uU(22,"Update"),t.qZA()()()),2&e&&(t.Q6J("formGroup",i.editForm),t.xp6(17),t.Q6J("ngIf",i.f.name.invalid&&i.f.name.touched))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,A.lW,T.Hw,f.TO,f.KE,f.hX,y.Nt,c.ZT,c.uh,c.xY,c.H8]}),a})();function Y(a,o){1&a&&(t.TgZ(0,"div"),t._uU(1," Lead Stage Is Required "),t.qZA())}function O(a,o){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,2,0,"div",12),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.name.errors&&e.f.name.errors.required)}}let M=(()=>{class a{constructor(e,i,s,l,u){this._fb=e,this.api=i,this.dialogRef=s,this.emit=l,this.baseService=u}ngOnInit(){this.initFilter()}initFilter(){this.addForm=this._fb.group({name:["",[r.kI.required]]})}get f(){return this.addForm.controls}submit(){this.addForm.invalid?this.addForm.markAllAsTouched():this.baseService.postData(p.N.leadStage,this.addForm.value).subscribe(e=>{this.emit.sendRefresh(!0),this.dialogRef.close(),this.api.showSuccess(this.api.toTitleCase(e.message))},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(r.qu),t.Y36(L.s),t.Y36(c.so),t.Y36(Z.A),t.Y36(b.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-stages"]],decls:23,vars:2,consts:[[3,"formGroup"],[1,"mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"container"],[1,"mat-typography"],[1,"col-12","col-md-12"],["appearance","outline",1,"example-full-width"],["formControlName","name","type","text","matInput","","placeholder","Enter Lead Stage"],[4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close","",1,"mat-cancel"],["mat-button","","cdkFocusInitial","",1,"mat-disable",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Add Lead Stage"),t.qZA()(),t.TgZ(6,"div",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"mat-dialog-content",8)(11,"div",2)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Lead Stage"),t.qZA(),t._UZ(16,"input",11),t.YNc(17,O,2,1,"mat-error",12),t.qZA()()()()(),t.TgZ(18,"mat-dialog-actions",13)(19,"button",14),t._uU(20,"CANCEL"),t.qZA(),t.TgZ(21,"button",15),t.NdJ("click",function(){return i.submit()}),t._uU(22,"ADD"),t.qZA()()()),2&e&&(t.Q6J("formGroup",i.addForm),t.xp6(17),t.Q6J("ngIf",i.f.name.invalid&&i.f.name.touched))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,A.lW,T.Hw,f.TO,f.KE,f.hX,y.Nt,c.ZT,c.uh,c.xY,c.H8]}),a})();var d=n(7155),w=n(8739),D=n(6308),x=n(2953),I=n(6219);const R=["myDropdown"];function J(a,o){1&a&&(t.TgZ(0,"div"),t._UZ(1,"app-nodata",15),t.qZA())}function P(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Lead Stage"),t.qZA())}function z(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"td",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openEdit(l))}),t._uU(1),t.ALo(2,"titlecase"),t.qZA()}if(2&a){const e=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.name))}}function q(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Created Date"),t.qZA())}function Q(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.created_date_time))}}function B(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Option"),t.qZA())}function $(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"td",28)(1,"div",29,30)(3,"mat-icon",31),t._uU(4,"more_vert"),t.qZA(),t.TgZ(5,"div",32)(6,"div",33),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openDelete(l.id))}),t.TgZ(7,"mat-icon",34),t._uU(8,"delete"),t.qZA(),t._uU(9," Delete "),t.qZA()()()()}}function H(a,o){1&a&&t._UZ(0,"tr",35)}function k(a,o){1&a&&t._UZ(0,"tr",36)}function G(a,o){if(1&a&&(t.TgZ(0,"div",16)(1,"table",17),t.ynx(2,18),t.YNc(3,P,2,0,"th",19),t.YNc(4,z,3,3,"td",20),t.BQk(),t.ynx(5,21),t.YNc(6,q,2,0,"th",19),t.YNc(7,Q,3,3,"td",22),t.BQk(),t.ynx(8,23),t.YNc(9,B,2,0,"th",19),t.YNc(10,$,10,0,"td",22),t.BQk(),t.YNc(11,H,1,0,"tr",24),t.YNc(12,k,1,0,"tr",25),t.qZA()()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}const j=function(){return[10,25,100]};function V(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-paginator",37),t.NdJ("page",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.pageChanged(s))}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("length",e.totalPageLength)("pageSizeOptions",t.DdM(2,j))}}const K=[{path:"",component:C,children:[{path:"stage-list",component:(()=>{class a{constructor(e,i,s,l){this.dialog=e,this.api=i,this.emit=s,this.baseService=l,this.displayedColumns=["name","created_date_time","delete"],this.dataSource=new d.by,this.allCourse=[],this.pageSize=10,this.currentPage=1,this.baseurl=p.N.live_url}ngOnInit(){this.emit.getRefresh.subscribe(e=>{1==e&&this.getLeadStage()})}ngAfterViewInit(){this.getLeadStage(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){this.searchValue=e.target.value,""==e.target.value&&this.getLeadStage()}search(){this.searchValue?.length>0&&this.baseService.getData(`${p.N.leadStage}/?key=${this.searchValue}&page_size=${this.pageSize}&page=${this.currentPage}`).subscribe(e=>{this.allCourse=e.results,this.dataSource=new d.by(this.allCourse),this.totalPageLength=e.total_no_of_record,this.dataSource.sort=this.sort},e=>{this.api.showError(e.error.message)})}getLeadStage(){this.baseService.getData(`${p.N.leadStage}?page_size=${this.pageSize}&page=${this.currentPage}`).subscribe(e=>{e.results&&(this.allCourse=e.results,this.dataSource=new d.by(this.allCourse),this.totalPageLength=e.total_no_of_record,this.dataSource.sort=this.sort)},e=>{this.api.showError(e.error.message)})}pageChanged(e){this.pageSize=e.pageSize,this.currentPage=e.pageIndex+1,this.searchValue?.length>0?this.search():this.baseService.getData(`${p.N.leadStage}/?page_size=${this.pageSize}&page=${this.currentPage}`).subscribe(i=>{this.allCourse=i.results,this.dataSource=new d.by(this.allCourse),this.totalPageLength=i.total_no_of_record},i=>{this.api.showError(i.error.message)})}openAdd(){const e=this.dialog.open(M,{width:"35%"});e.disableClose=!0,e.afterClosed().subscribe(i=>{})}openEdit(e){const i=this.dialog.open(F,{width:"35%",data:e});i.disableClose=!0,i.afterClosed().subscribe(s=>{})}openDelete(e){const s=this.dialog.open(g.T,{width:"35%",data:`${p.N.leadStage}${e}/`});s.disableClose=!0,s.afterClosed().subscribe(l=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(c.uw),t.Y36(L.s),t.Y36(Z.A),t.Y36(b.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-lead-stage-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(R,5),t.Gf(w.NW,5),t.Gf(D.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.myDropdown=s.first),t.iGM(s=t.CRH())&&(i.paginator=s.first),t.iGM(s=t.CRH())&&(i.sort=s.first)}},decls:22,vars:3,consts:[[1,"head-container"],["routerLink","/advancesettings",1,"h1-set-header"],[1,"bi","bi-chevron-right"],["routerLink","/advancesettings/setupDropDownValues",1,"h1-set-header"],[1,"row","m-4"],[1,"col-sm-12","col-md-6","col-lg-8","text-end"],["data-bs-toggle","tooltip","title","Add Course",1,"more-inner-icon",3,"click"],[1,"col-sm-12","col-md-6","col-lg-4"],[1,"input-group","z-s"],["type","search","placeholder","Search Course Name",1,"form-control",3,"input"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-search"],[4,"ngIf"],["class","genericTable",4,"ngIf"],["aria-label","Select page of users",3,"length","pageSizeOptions","page",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],[1,"genericTable"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","user-name",3,"click",4,"matCellDef"],["matColumnDef","created_date_time"],["mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"user-name",3,"click"],["mat-cell",""],["ngbDropdown",""],["myDropdown","ngbDropdown"],["title","More","matBadgeColor","warn","id","dropdownBasic1","ngbDropdownToggle","",1,"more-icon"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"more-dropdown"],["ngbDropdownToggle","",1,"app-list",3,"click"],["data-bs-toggle","modal",1,"more-inner-icon"],["mat-header-row",""],["mat-row",""],["aria-label","Select page of users",3,"length","pageSizeOptions","page"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1")(2,"span",1),t._uU(3,"Advance Settings "),t._UZ(4,"i",2),t.qZA(),t.TgZ(5,"span",3),t._uU(6,"Setup Dropdown Values "),t._UZ(7,"i",2),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Lead Stage"),t.qZA()()(),t.TgZ(10,"div",4)(11,"div",5)(12,"mat-icon",6),t.NdJ("click",function(){return i.openAdd()}),t._uU(13," format_list_bulleted_add"),t.qZA()(),t.TgZ(14,"div",7)(15,"div",8)(16,"input",9),t.NdJ("input",function(l){return i.applyFilter(l)}),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return i.search()}),t._UZ(18,"i",11),t.qZA()()()(),t.YNc(19,J,2,0,"div",12),t.YNc(20,G,13,3,"div",13),t.YNc(21,V,1,3,"mat-paginator",14)),2&e&&(t.xp6(19),t.Q6J("ngIf",0==(null==i.dataSource||null==i.dataSource.data?null:i.dataSource.data.length)),t.xp6(1),t.Q6J("ngIf",i.dataSource.data.length>0),t.xp6(1),t.Q6J("ngIf",i.dataSource.data.length>0))},dependencies:[m.O5,h.rH,x.jt,x.iD,x.Vi,I.H,T.Hw,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,w.NW,D.YE,m.rS,m.uU],styles:["table[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-weight:600;line-height:23px;font-size:20px;color:#393939!important}.head-container[_ngcontent-%COMP%]{padding:15px 15px 11px;border-bottom:1px solid rgb(216,216,216);background-color:transparent!important}.bi-funnel-fill[_ngcontent-%COMP%], .bi-person-plus-fill[_ngcontent-%COMP%]{margin:0 10px;font-size:20px;text-align:right!important}.more-icon[_ngcontent-%COMP%]{line-height:33px!important;cursor:pointer}.more-dropdown[_ngcontent-%COMP%]{width:191px;padding:20px}.more-inner-icon[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:20px;cursor:pointer}.app-list[_ngcontent-%COMP%]{padding:3px;cursor:pointer}.user-name[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700}.more-inner-icon[_ngcontent-%COMP%]{font-size:25px}"]}),a})()},{path:"",redirectTo:"stage-list",pathMatch:"full"}]}];let W=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.Bz.forChild(K),h.Bz]}),a})(),X=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[m.ez,W,S.m,v.q]}),a})()}}]);