"use strict";(self.webpackChunkphase_1=self.webpackChunkphase_1||[]).push([[459],{8459:(co,Y,c)=>{c.r(Y),c.d(Y,{MyFollowupsModule:()=>so});var d=c(6895),v=c(9299),t=c(4650),m=c(8242),p=c(5938),tt=c(7155),R=c(9449),g=c(2340),et=c(1135),ot=c(9019);let A=(()=>{class o{constructor(){this.api_url=ot.N.live_url,this.dataSubject=new et.X(null),this.data$=this.dataSubject.asObservable(),this.url=`${this.api_url}/api/follow-up/?page=1&page_size=5`,this.dataUpdated=new t.vpe,this.renderingFilterData=[]}setFilteredFollowUpURL(e){this.url=e}getFollowupfilterURL(){return this.url}setSharedData(...e){this.sharedData=e}getSharedData(){return this.sharedData}sendData(e){this.dataSubject.next(e)}resetData(){this.dataSubject.next(null)}setFormDataFollowupFilter(e){this.renderingFilterData=e}getFormDataFollowupFilter(){return this.renderingFilterData}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class I{constructor(){this.dataService=new A}updateUrlParameter(i,e,n){const l=new URL(i);return"All"==n?l.searchParams.delete("follow_up_status"):l.searchParams.has(e)?l.searchParams.set(e,n):l.searchParams.append(e,n),l.toString()}getSearch(i){return{key:"serach",value:i}}getFilterBYForm(i,e){e}getSortDataBYForm(i,e){var n="";switch(e){case"Ascending":case"Descending":case"Creation Date":case"Modification Date":case"Next Action Date":n+=`&filter_by=${e}`}return{key:i,apistring:n,value:e}}getFilteredDate(i){return{key:"action_datetime",value:i}}getFilterFollowup(i,e,n=null){console.log("ke value in filter class ",i,e);var l="";switch(e){case"Upcoming":case"Done":case"Missed":l+=`${i}=${e}`}return{key:i,apistring:l,value:e}}}var r=c(4006),T=c(9459),Z=c(4039),Q=c(1665),h=c(3546),f=c(4859),C=c(7392),u=c(9549),w=c(4385),b=c(3238);function nt(o,i){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.first_name)}}function lt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.clearSelectField("counsellor_ids"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function it(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Counsellor Name Is Required. "),t.qZA())}function at(o,i){if(1&o&&(t.TgZ(0,"div",2)(1,"div",11)(2,"mat-form-field",12)(3,"mat-label"),t._uU(4,"Select Counselors"),t.qZA(),t.TgZ(5,"mat-select",23),t.YNc(6,nt,2,2,"mat-option",14),t.qZA(),t.YNc(7,lt,3,0,"button",15),t.YNc(8,it,2,0,"mat-error",24),t.qZA()()()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.counselorList),t.xp6(1),t.Q6J("ngIf",null==e.f.counsellor_ids?null:e.f.counsellor_ids.value),t.xp6(1),t.Q6J("ngIf",e.f.counsellor_ids.hasError("required"))}}function rt(o,i){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.first_name)}}function st(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("counselled_by"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function ct(o,i){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.course_name)}}function pt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("course_id"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function dt(o,i){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.source_name)}}function ut(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("source_id"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function mt(o,i){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.stream_name)}}function _t(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("stream_id"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function gt(o,i){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ht(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("city_id"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}let ft=(()=>{class o{constructor(e,n,l,a,s,_,M,S){this._bottomSheetRef=e,this.data=n,this.fb=l,this.api=a,this._baseService=s,this._addLeadEmitter=_,this.dataService=M,this.bottomsheet=S,this.filterFollowUp=new I,this.filterApplied=new t.vpe,this.counselorList=[],this.channelsList=[],this.sourceList=[],this.departmentList=[],this.courseList=[],this.status=[],this.cityList=[],this.streamsList=[],this.filter=new t.vpe,this.updateFilterByStatusURL=null,this.AllFollowupStatuses=[],this.page=1,this.pageSize=5,this.filterCount=[],this.filtered=!1,this.role=localStorage.getItem("user_role")}ngOnInit(){this.updateFilterByStatusURL=this.dataService.getFollowupfilterURL(),this.dropdownvalues(),this.initForm()}get f(){return this.filterLead.controls}dropdownvalues(){this.getChannel(),this.getSource(),this.getCity(),this.getCounselor(),this.getChannel(),this.getCourse(),this.getCounselledBy(),this.getStream(),this.getAllFollowupStatuses()}getChannel(){this.api.getAllChannel().subscribe(e=>{e.results?this.channelsList=e.results:this.api.showError("ERROR")},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getCourse(){this.api.getAllCourse().subscribe(e=>{e?(this.courseList=e,console.log(e,"course response")):this.api.showError("ERROR")},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getStream(){this.api.getStreams().subscribe(e=>{console.log(e,"streams response"),this.streamsList=e},e=>{this.api.showError(this.api.toTitleCase(e.error))})}getSource(){this.api.getAllSource().subscribe(e=>{e.results?this.sourceList=e.results:this.api.showError("ERROR")},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getCity(){this.api.getAllCity().subscribe(e=>{e.results?this.cityList=e.results:this.api.showError("ERROR")},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getCounselledBy(){this._baseService.getData(`${g.N._user}/?role_name=Admin`).subscribe(e=>{e&&(this.counselled_by=e.results)},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getCounselor(){this._baseService.getData(`${g.N._user}/?role_name=counsellor`).subscribe(e=>{e&&(this.counselorList=e.results)},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getAllFollowupStatuses(){this.api.allFollowUpStatuses().subscribe(e=>{console.log(e,"all folloups"),this.AllFollowupStatuses=e})}clearSelectField(e){this.filterLead.get(e)?.reset()}initForm(){this.filterLead=this.fb.group({counsellor_ids:[""],source_id:[""],stream_id:[""],course_id:[""],city_id:[""],counselled_by:[""]})}closePopup(){this._bottomSheetRef.dismiss()}onSubmit(){console.log(this.filterLead.value);const e=Object.keys(this.filterLead.value).filter(n=>""!==this.filterLead.value[n]);e.forEach(n=>{console.log(e.length,"nonemptykeys.length"),this.filterCount=e.length;const l=this.filterLead.value[n];console.log(`Key: ${n}, Value: ${l}`),console.log(l.length,"no of filters applied"),this.updateFilterByStatusURL+=`&${n}=${l}`}),this.dataService.setFilteredFollowUpURL(this.updateFilterByStatusURL),this.filtered=!0,console.log("==============>>",this.updateFilterByStatusURL),this.bottomsheet.dismiss(),this.dataService.sendData(!0),this.dataService.setSharedData(this.filterCount,this.filtered),this.dataService.dataUpdated.emit(this.filtered)}sendData(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.oL),t.Y36(m.OG),t.Y36(r.qu),t.Y36(T.s),t.Y36(Z.x),t.Y36(Q.d),t.Y36(A),t.Y36(m.ch))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-followup-filter"]],outputs:{filterApplied:"filterApplied",filter:"filter"},decls:59,vars:12,consts:[[1,"p-0","m-0"],[1,"add-users","mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],[3,"click"],[1,"mat-typography","mx-2"],[1,"container"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"col-12"],["appearance","outline",1,"mb-1"],["placeholder","Select Counselors","formControlName","counselled_by"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["placeholder","Select Course","formControlName","course_id"],["placeholder","Select Source","formControlName","source_id"],["placeholder","Select Stream","formControlName","stream_id"],["placeholder","Select City","formControlName","city_id"],[1,"d-flex"],["mat-button","",1,"mat-cancel","m-1",3,"click"],["mat-button","","cdkFocusInitial","",1,"mat-disable","m-1",3,"click"],["placeholder","Select Counselors","formControlName","counsellor_ids"],[4,"ngIf"],[3,"value"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){1&e&&(t.ynx(0),t.TgZ(1,"mat-card",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),t._uU(6,"Filter"),t.qZA()(),t.TgZ(7,"div",5)(8,"mat-icon",6),t.NdJ("click",function(){return n.closePopup()}),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"mat-dialog-content",7)(11,"div",8)(12,"form",9),t.YNc(13,at,9,3,"div",10),t.TgZ(14,"div",2)(15,"div",11)(16,"mat-form-field",12)(17,"mat-label"),t._uU(18,"Select Counselled By"),t.qZA(),t.TgZ(19,"mat-select",13),t.YNc(20,rt,2,2,"mat-option",14),t.qZA(),t.YNc(21,st,3,0,"button",15),t.qZA()()(),t.TgZ(22,"div",2)(23,"div",11)(24,"mat-form-field",12)(25,"mat-label"),t._uU(26,"Select Course"),t.qZA(),t.TgZ(27,"mat-select",16),t.YNc(28,ct,2,2,"mat-option",14),t.qZA(),t.YNc(29,pt,3,0,"button",15),t.qZA()()(),t.TgZ(30,"div",2)(31,"div",11)(32,"mat-form-field",12)(33,"mat-label"),t._uU(34,"Select Source"),t.qZA(),t.TgZ(35,"mat-select",17),t.YNc(36,dt,2,2,"mat-option",14),t.qZA(),t.YNc(37,ut,3,0,"button",15),t.qZA()()(),t.TgZ(38,"div",2)(39,"div",11)(40,"mat-form-field",12)(41,"mat-label"),t._uU(42,"Select Stream"),t.qZA(),t.TgZ(43,"mat-select",18),t.YNc(44,mt,2,2,"mat-option",14),t.qZA(),t.YNc(45,_t,3,0,"button",15),t.qZA()()(),t.TgZ(46,"div",2)(47,"div",11)(48,"mat-form-field",12)(49,"mat-label"),t._uU(50,"Select City"),t.qZA(),t.TgZ(51,"mat-select",19),t.YNc(52,gt,2,2,"mat-option",14),t.qZA(),t.YNc(53,ht,3,0,"button",15),t.qZA()()()()()(),t.TgZ(54,"mat-dialog-actions",20)(55,"button",21),t.NdJ("click",function(){return n.closePopup()}),t._uU(56,"CANCEL"),t.qZA(),t.TgZ(57,"button",22),t.NdJ("click",function(){return n.onSubmit()}),t._uU(58,"APPLY FILTER"),t.qZA()()(),t.BQk()),2&e&&(t.xp6(12),t.Q6J("formGroup",n.filterLead),t.xp6(1),t.Q6J("ngIf","Admin"===n.role),t.xp6(7),t.Q6J("ngForOf",n.counselled_by),t.xp6(1),t.Q6J("ngIf",null==n.f.counselled_by?null:n.f.counselled_by.value),t.xp6(7),t.Q6J("ngForOf",n.courseList),t.xp6(1),t.Q6J("ngIf",null==n.f.course_id?null:n.f.course_id.value),t.xp6(7),t.Q6J("ngForOf",n.sourceList),t.xp6(1),t.Q6J("ngIf",null==n.f.source_id?null:n.f.source_id.value),t.xp6(7),t.Q6J("ngForOf",n.streamsList),t.xp6(1),t.Q6J("ngIf",null==n.f.stream_id?null:n.f.stream_id.value),t.xp6(7),t.Q6J("ngForOf",n.cityList),t.xp6(1),t.Q6J("ngIf",null==n.f.city_id?null:n.f.city_id.value))},dependencies:[d.sg,d.O5,r._Y,r.JJ,r.JL,r.sg,r.u,h.a8,f.lW,C.Hw,u.TO,u.KE,u.hX,u.R9,w.gD,b.ey,p.uh,p.xY,p.H8],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:none!important;overflow:hidden}"]}),o})();var N=c(7692),U=c(5416),F=c(4144);function Ct(o,i){if(1&o&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function bt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("priority"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function wt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Priority Is Required. "),t.qZA())}function vt(o,i){if(1&o&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Tt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("lead_status"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Zt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Status Is Required. "),t.qZA())}const Ft=function(o){return{display:o}};function xt(o,i){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id)("ngStyle",t.VKq(3,Ft,2==e.id?"none":"block")),t.xp6(1),t.hij(" ",e.status_name,"")}}function yt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("follow_up_status"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function At(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Followup Status Is Required. "),t.qZA())}function Ut(o,i){if(1&o&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.channel_name)}}function Mt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("communication_channel"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function St(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Communication Channel Is Required. "),t.qZA())}function kt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Next Action Date Is Required. "),t.qZA())}let $=(()=>{class o{constructor(e,n,l,a,s,_,M,S,D,E,L,q){this.datePipe=e,this._bottomSheetRef=n,this.data=l,this.fb=a,this.api=s,this._baseService=_,this.activateRoute=M,this._bottomSheet=S,this.emit=D,this.dataService=E,this.cd=L,this.router=q,this.leadCategory=[],this.status=[],this.subStatus=[],this.followupType=[],this.templateList=[],this.currentDate=(new Date).toISOString().slice(0,-8),this.currentDateTime=new Date,this.formattedDate3=this.datePipe.transform(this.currentDateTime,"yyyy-MM-ddTHH:mm:ss.SSSZZZZZ"),this.page=1,this.pageSize=10,this.prioritiesData=[],this.AllFollowupStatuses=[],this.createdBy=localStorage.getItem("user_id"),this.id=this.activateRoute.snapshot.paramMap.get("id")}ngOnInit(){this.dataService.dataUpdated.subscribe(e=>{console.log(e,"filtercount")}),this.emit.getRefresh.subscribe(e=>{}),this.dropDownValues(),this.getFollowUpById(),this.editFollowUpForm=this.fb.group({follow_up_type:["normal"],priority:["",r.kI.required],lead_status:["",r.kI.required],follow_up_status:["",r.kI.required],communication_channel:["",r.kI.required],action_date_time:[""],follow_up_text:[""],counsellor:[""],lead:[""],created_by:[this.createdBy],modified_datetime:[this.formattedDate3]})}getLeadByID(e=null){console.log("get lead by id"),this._baseService.getByID(`${g.N.lead_list}${e}/`).subscribe(n=>{console.log(n.result[0].referred_to,"getleadby id response"),this.counsellor_id=n.result[0].referred_to})}get f(){return this.editFollowUpForm.controls}clearSelectField(e){this.editFollowUpForm.get(e)?.reset()}dropDownValues(){this.getSource(),this.getStatus(),this.getSubStatus(),this.getChannel(),this.getTemplate(),this.getPriorities(),this.getAllFollowupStatuses()}getSource(){this.api.getAllSource().subscribe(e=>{e.results?this.followupType=e.results:this.api.showError("ERROR")},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getStatus(){this._baseService.getData(`${g.N.lead_status}`).subscribe(e=>{e.results&&(this.status=e.results)},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getSubStatus(){this._baseService.getData(`${g.N.lead_subStatus}`).subscribe(e=>{e.results&&(this.subStatus=e.results)},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getChannel(){this.api.getAllChannel().subscribe(e=>{e.results?this.leadCategory=e.results:this.api.showError("ERROR")},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}getTemplate(){this._baseService.getData(`${g.N.whatsapp_template}`).subscribe(e=>{e.results&&(this.templateList=e.results)})}closePopup(){this._bottomSheetRef.dismiss()}getPriorities(){this.api.getPriority(this.pageSize,this.page).subscribe(e=>{this.prioritiesData=e.results})}getAllFollowupStatuses(){this.api.allFollowUpStatuses().subscribe(e=>{console.log(e,"all folloups"),this.AllFollowupStatuses=e})}edit(){this.editFollowUpForm.patchValue({counsellor:this.counsellor_Id}),this.editFollowUpForm.patchValue({lead:this.leadId}),this.editFollowUpForm.patchValue({created_by:this.createdBy});let e=this.datePipe.transform(this.editFollowUpForm.value.action_date_time,"yyyy-MM-ddTHH:mm:ss.SSSZZZZZ");this.editFollowUpForm.value.action_date_time=e,this.editFollowUpForm.invalid?this.editFollowUpForm.markAllAsTouched():this.api.updateLeadFollowUp(this.id,this.editFollowUpForm.value).subscribe(n=>{n&&(this.api.showSuccess(n.message),this.dataService.sendData(!0),this.closePopup())},n=>{this.api.showError(this.api.toTitleCase(n.error.message))})}getFollowUpById(){this.api.getFollowUpByLeadId(this.data.id).subscribe(e=>{this.id=e.id,this.leadName=e.lead,this.leadId=e.lead_id,console.log(this.leadId,"this.leadId"),this.counsellor_Id=e.counsellor_id,console.log(this.counsellor_Id,"this.counsellor_Id"),this.created_by=e.counsellor_id,this.status.forEach(n=>{n.name==e.lead_status&&(this.statusId=n.id)}),this.formattedDate=this.datePipe.transform(e.action_date_time,"yyyy-MM-ddTHH:mm"),this.editFollowUpForm.patchValue({priority:e.priority}),this.editFollowUpForm.patchValue({lead_status:this.statusId}),this.editFollowUpForm.patchValue({follow_up_status:e.follow_up_status}),this.editFollowUpForm.patchValue({communication_channel:e.communication_channel}),this.editFollowUpForm.patchValue({action_date_time:this.formattedDate}),this.editFollowUpForm.patchValue({follow_up_text:e.follow_up_text})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.uU),t.Y36(m.oL),t.Y36(m.OG),t.Y36(r.qu),t.Y36(T.s),t.Y36(Z.x),t.Y36(v.gz),t.Y36(m.ch),t.Y36(N.A),t.Y36(A),t.Y36(t.sBO),t.Y36(v.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-followup"]],decls:56,vars:18,consts:[[1,"p-0","m-0"],[1,"add-users","mat-dialog-header"],[1,"row"],[1,"col-11"],["mat-dialog-title","",1,"text-truncate",2,"max-width","280px"],[1,"col-1","close-icon"],[3,"click"],[1,"mat-typography","p-1","m-1"],[1,"container"],[3,"formGroup"],["appearance","outline",1,"mb-1"],["formControlName","priority"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngIf"],["formControlName","lead_status"],["formControlName","follow_up_status"],[3,"value","ngStyle",4,"ngFor","ngForOf"],["formControlName","communication_channel"],["matInput","","appFormSpace","","type","datetime-local","placeholder","Date and Time","formControlName","action_date_time",3,"min"],[1,"mat-input-container"],["for","Comment Box"],["name","","formControlName","follow_up_text","id","","cols","30","rows","10"],[1,"d-flex"],["mat-button","","mat-dialog-close","",1,"mat-cancel","m-1",3,"click"],["mat-button","","cdkFocusInitial","",1,"mat-disable","m-1",3,"click"],[3,"value"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value","ngStyle"]],template:function(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-card",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),t._uU(6),t.ALo(7,"titlecase"),t.qZA()(),t.TgZ(8,"div",5)(9,"mat-icon",6),t.NdJ("click",function(){return n.closePopup()}),t._uU(10,"close"),t.qZA()()()(),t.TgZ(11,"mat-dialog-content",7)(12,"div",8)(13,"form",9)(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Select Priority"),t.qZA(),t.TgZ(17,"mat-select",11),t.YNc(18,Ct,2,2,"mat-option",12),t.qZA(),t.YNc(19,bt,3,0,"button",13),t.YNc(20,wt,2,0,"mat-error",14),t.qZA(),t.TgZ(21,"mat-form-field",10)(22,"mat-label"),t._uU(23,"Select Status"),t.qZA(),t.TgZ(24,"mat-select",15),t.YNc(25,vt,2,2,"mat-option",12),t.qZA(),t.YNc(26,Tt,3,0,"button",13),t.YNc(27,Zt,2,0,"mat-error",14),t.qZA(),t.TgZ(28,"mat-form-field",10)(29,"mat-label"),t._uU(30,"Select Followup Status"),t.qZA(),t.TgZ(31,"mat-select",16),t.YNc(32,xt,2,5,"mat-option",17),t.qZA(),t.YNc(33,yt,3,0,"button",13),t.YNc(34,At,2,0,"mat-error",14),t.qZA(),t.TgZ(35,"mat-form-field",10)(36,"mat-label"),t._uU(37,"Select Communication Channel"),t.qZA(),t.TgZ(38,"mat-select",18),t.YNc(39,Ut,2,2,"mat-option",12),t.qZA(),t.YNc(40,Mt,3,0,"button",13),t.YNc(41,St,2,0,"mat-error",14),t.qZA(),t.TgZ(42,"mat-form-field",10)(43,"mat-label"),t._uU(44,"Next Action Date"),t.qZA(),t._UZ(45,"input",19),t.YNc(46,kt,2,0,"mat-error",14),t.qZA(),t.TgZ(47,"div",20)(48,"label",21),t._uU(49," Comment Box"),t.qZA(),t._UZ(50,"textarea",22),t.qZA()()()(),t.TgZ(51,"mat-dialog-actions",23)(52,"button",24),t.NdJ("click",function(){return n.closePopup()}),t._uU(53,"CANCEL"),t.qZA(),t.TgZ(54,"button",25),t.NdJ("click",function(){return n.edit()}),t._uU(55,"UPDATE FOLLOWUP"),t.qZA()()(),t.BQk()),2&e){let l,a,s,_;t.xp6(6),t.hij("Edit Follow Up of ",t.lcZ(7,16,n.leadName),""),t.xp6(7),t.Q6J("formGroup",n.editFollowUpForm),t.xp6(5),t.Q6J("ngForOf",n.prioritiesData),t.xp6(1),t.Q6J("ngIf",null==(l=n.editFollowUpForm.get("priority"))?null:l.value),t.xp6(1),t.Q6J("ngIf",n.f.priority.hasError("required")),t.xp6(5),t.Q6J("ngForOf",n.status),t.xp6(1),t.Q6J("ngIf",null==(a=n.editFollowUpForm.get("lead_status"))?null:a.value),t.xp6(1),t.Q6J("ngIf",n.f.lead_status.hasError("required")),t.xp6(5),t.Q6J("ngForOf",n.AllFollowupStatuses),t.xp6(1),t.Q6J("ngIf",null==(s=n.editFollowUpForm.get("follow_up_status"))?null:s.value),t.xp6(1),t.Q6J("ngIf",n.f.follow_up_status.hasError("required")),t.xp6(5),t.Q6J("ngForOf",n.leadCategory),t.xp6(1),t.Q6J("ngIf",null==(_=n.editFollowUpForm.get("communication_channel"))?null:_.value),t.xp6(1),t.Q6J("ngIf",n.f.communication_channel.hasError("required")),t.xp6(4),t.Q6J("min",n.currentDate),t.xp6(1),t.Q6J("ngIf",n.f.action_date_time.hasError("required"))}},dependencies:[d.sg,d.O5,d.PC,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,U.p,h.a8,f.lW,C.Hw,u.TO,u.KE,u.hX,u.R9,F.Nt,w.gD,b.ey,p.ZT,p.uh,p.xY,p.H8,d.rS],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:none!important}mat-dialog-content[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]{padding:.2rem 3rem;margin:0}.time-label[_ngcontent-%COMP%]{color:#6c6c6c}.time-label-error[_ngcontent-%COMP%]{color:red}.mat-input-container[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;padding:8px;display:flex;flex-direction:column;font-family:Roboto,sans-serif}label[_ngcontent-%COMP%]{margin-bottom:4px}div[contenteditable=true][_ngcontent-%COMP%]{border:none;outline:none;padding:0;margin:0;resize:none;overflow:auto;white-space:pre-wrap;min-height:100px;background-color:transparent}textarea[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]:hover{border:none!important}textarea[_ngcontent-%COMP%]{border:none!important;outline:none!important}"]}),o})();function qt(o,i){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(t.lcZ(2,2,e.first_name))}}function It(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.clearSelectField("referTo"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Nt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Refer To Is Required. "),t.qZA())}function Pt(o,i){if(1&o&&(t.TgZ(0,"mat-form-field",11)(1,"mat-label"),t._uU(2,"Select Refer To"),t.qZA(),t.TgZ(3,"mat-select",17),t.YNc(4,qt,3,4,"mat-option",18),t.qZA(),t.YNc(5,It,3,0,"button",19),t.YNc(6,Nt,2,0,"mat-error",13),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.referTo),t.xp6(1),t.Q6J("ngIf",null==e.f.referTo?null:e.f.referTo.value),t.xp6(1),t.Q6J("ngIf",e.f.referTo.hasError("required"))}}function Ot(o,i){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(t.lcZ(2,2,e.first_name))}}function Jt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.clearSelectField("referTo"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Dt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Refer To Is Required. "),t.qZA())}function Et(o,i){if(1&o&&(t.TgZ(0,"mat-form-field",11)(1,"mat-label"),t._uU(2,"Select Refer To"),t.qZA(),t.TgZ(3,"mat-select",22),t.YNc(4,Ot,3,4,"mat-option",18),t.qZA(),t.YNc(5,Jt,3,0,"button",19),t.YNc(6,Dt,2,0,"mat-error",13),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.referTo),t.xp6(1),t.Q6J("ngIf",null==e.f.referTo?null:e.f.referTo.value),t.xp6(1),t.Q6J("ngIf",e.f.referTo.hasError("required"))}}function Lt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Comment Is Required. "),t.qZA())}let Yt=(()=>{class o{constructor(e,n,l,a,s,_){this.dialogRef=e,this.data=n,this._fb=l,this._baseService=a,this.api=s,this._bottomSheetRef=_,this.referTo=[]}get f(){return this.referLeadFollowUpForm.controls}getCounselor(){this._baseService.getData(`${g.N._user}/?role_name=counsellor`).subscribe(e=>{e.results&&(this.referTo=e.results)},e=>{this.api.showError(this.api.toTitleCase(e.error.message))})}clearSelectField(e){this.referLeadFollowUpForm.get(e)?.reset()}onSubmit(){if(this.referLeadFollowUpForm.invalid)this.referLeadFollowUpForm.markAllAsTouched();else{let e={};const n=this.referLeadFollowUpForm.value;e=this.data.leadId?{lead_list:this.data.leadId,counsellor_ids:n.referTo,comment:n.comment}:{lead_list:[this.data],counsellor_ids:[n.referTo],comment:n.comment},this._baseService.postData(`${g.N.lead_refer}`,e).subscribe(l=>{l&&(this.api.showSuccess(l.message),this.dialogRef.close())},l=>{this.api.showError(this.api.toTitleCase(l.error.message))})}}ngOnInit(){this.getCounselor(),this.initForm()}initForm(){this.referLeadFollowUpForm=this._fb.group({referTo:["",r.kI.required],comment:["",r.kI.required]})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(r.qu),t.Y36(Z.x),t.Y36(T.s),t.Y36(m.oL))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-refer-followup"]],decls:28,vars:4,consts:[[1,"p-0","m-0"],[1,"add-users","mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"mat-typography"],[1,"mx-4","my-3",3,"formGroup"],[1,"col-12"],["class","mb-1","appearance","outline",4,"ngIf"],["appearance","outline",1,"mb-1"],["matInput","","appFormSpace","","placeholder","Enter Your Comment","formControlName","comment"],[4,"ngIf"],[1,"d-flex"],["mat-button","","mat-dialog-close","",1,"mat-cancel","m-1"],["mat-button","","cdkFocusInitial","",1,"mat-disable","m-1",3,"click"],["placeholder","Select The Counsellor","formControlName","referTo","multiple",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["placeholder","Select The Counsellor","formControlName","referTo"]],template:function(e,n){1&e&&(t.ynx(0),t.TgZ(1,"mat-card",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),t._uU(6,"Assign Leads"),t.qZA()(),t.TgZ(7,"div",5)(8,"mat-icon",6),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"mat-dialog-content",7)(11,"form",8)(12,"div",2)(13,"div",9),t.YNc(14,Pt,7,3,"mat-form-field",10),t.YNc(15,Et,7,3,"mat-form-field",10),t.qZA()(),t.TgZ(16,"div",2)(17,"div",9)(18,"mat-form-field",11)(19,"mat-label"),t._uU(20,"Comment"),t.qZA(),t._UZ(21,"textarea",12),t.YNc(22,Lt,2,0,"mat-error",13),t.qZA()()()()(),t.TgZ(23,"mat-dialog-actions",14)(24,"button",15),t._uU(25,"CANCEL"),t.qZA(),t.TgZ(26,"button",16),t.NdJ("click",function(){return n.onSubmit()}),t._uU(27,"REFER"),t.qZA()()(),t.BQk()),2&e&&(t.xp6(11),t.Q6J("formGroup",n.referLeadFollowUpForm),t.xp6(3),t.Q6J("ngIf",null==n.data?null:n.data.leadId),t.xp6(1),t.Q6J("ngIf",!(null!=n.data&&n.data.leadId)),t.xp6(7),t.Q6J("ngIf",n.f.comment.hasError("required")))},dependencies:[d.sg,d.O5,f.lW,C.Hw,u.TO,u.KE,u.hX,u.R9,F.Nt,h.a8,w.gD,b.ey,p.ZT,p.uh,p.xY,p.H8,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,U.p,d.rS]}),o})();var x=c(2937),P=c(6709),k=c(3848);let j=(()=>{class o{constructor(e,n,l){this.dialogRef=e,this.data=n,this._fb=l,console.log(n.lead,"followup-videocall")}ngOnInit(){this.initForm()}initForm(){this.followUpvideoCallForm=this._fb.group({email:[""],sms:[""],whatsapp:[""]})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-followup-videocall"]],decls:47,vars:4,consts:[[1,"mat-dialog-header"],[1,"row"],[1,"col","text-truncate",2,"width","200px"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"container"],[3,"formGroup"],[1,"row","my-3"],[1,"col-8"],["formControlName","email",1,"m-1"],["formControlName","sms",1,"m-1"],["formControlName","whatsapp",1,"m-1"],[1,"col-4","text-end","appColor"],[1,"lead-video-tabs"],["label","SMS"],[1,"mt-4"],["href","https://meet.google.com/qjc-nnqj-myu","target","_blank"],["label","EMAIL"],["label","WHATS APP"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",1,"mat-cancel"],["mat-button","","type","button","cdkFocusInitial","",1,"mat-disable"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),t._uU(5),t.ALo(6,"titlecase"),t.qZA()(),t.TgZ(7,"div",4)(8,"mat-icon",5),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"mat-dialog-content")(11,"div",6)(12,"form",7)(13,"div",8)(14,"div",9)(15,"mat-checkbox",10),t._uU(16,"Send Email"),t.qZA(),t.TgZ(17,"mat-checkbox",11),t._uU(18,"Send SMS"),t.qZA(),t.TgZ(19,"mat-checkbox",12),t._uU(20,"Send Whats App"),t.qZA()(),t.TgZ(21,"div",13),t._uU(22," Copy Invite "),t.qZA()()(),t.TgZ(23,"mat-tab-group",14)(24,"mat-tab",15)(25,"div",16)(26,"b"),t._uU(27,"CLICK THE LINK :"),t.qZA(),t.TgZ(28,"a",17),t._uU(29,"https://meet.google.com/qjc-nnqj-myu"),t.qZA()()(),t.TgZ(30,"mat-tab",18)(31,"div",16)(32,"b"),t._uU(33,"CLICK THE LINK :"),t.qZA(),t.TgZ(34,"a",17),t._uU(35,"https://meet.google.com/qjc-nnqj-myu"),t.qZA()()(),t.TgZ(36,"mat-tab",19)(37,"div",16)(38,"b"),t._uU(39,"CLICK THE LINK :"),t.qZA(),t.TgZ(40,"a",17),t._uU(41,"https://meet.google.com/qjc-nnqj-myu"),t.qZA()()()()()(),t.TgZ(42,"div",20)(43,"button",21),t._uU(44,"START CALL"),t.qZA(),t.TgZ(45,"button",22),t._uU(46,"SAVE AND INVITE"),t.qZA()()()),2&e&&(t.xp6(5),t.hij("Send Video Conferencing Invite To ",t.lcZ(6,2,n.data.lead),""),t.xp6(7),t.Q6J("formGroup",n.followUpvideoCallForm))},dependencies:[f.lW,C.Hw,P.oG,k.SP,k.uX,h.a8,p.ZT,p.uh,p.xY,p.H8,r._Y,r.JJ,r.JL,r.sg,r.u,d.rS],styles:[".mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:0 20px!important;overflow-y:hidden!important;font-size:13px}.mat-dialog-actions[_ngcontent-%COMP%]{padding:10px 20px 34px!important}mat-card[_ngcontent-%COMP%]{box-shadow:none!important;margin:0;padding:0}.appColor[_ngcontent-%COMP%]{color:var(--appColor)}"]}),o})();function Rt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("smsTemplate"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Qt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("route"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}let H=(()=>{class o{constructor(e,n,l){this._bottomSheetRef=e,this.data=n,this.fb=l,console.log(n.lead,"followup sms")}ngOnInit(){this.initForm()}initForm(){this.smsForm=this.fb.group({smsTemplate:["",r.kI.required],selectedTemplate:[""],route:["",r.kI.required]})}get f(){return this.smsForm.controls}clearSelectField(e){this.smsForm.get(e)?.reset()}onSubmit(){}closePopup(){this._bottomSheetRef.dismiss()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.oL),t.Y36(m.OG),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-followup-sms"]],decls:57,vars:7,consts:[[1,"p-0","m-0"],[1,"add-users","mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title","",1,"text-truncate",2,"width","250px !important"],[1,"col-1","close-icon"],[3,"click"],[1,"mat-typography"],[3,"formGroup"],[1,"container"],["appearance","outline",1,"mb-1"],["placeholder","Select SMS Template","formControlName","smsTemplate"],["value","template1"],["value","template2"],["value","template3"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matInput","","appFormSpace","","rows","5","placeholder","Enter Your Text Here","formControlName","selectedTemplate"],["placeholder","Select Route","formControlName","route"],["value","route1"],["value","route2"],["value","route3"],[1,"d-flex"],["mat-button","","mat-dialog-close","",1,"mat-cancel","m-1"],["mat-button","","cdkFocusInitial","",1,"mat-disable","m-1",3,"mat-dialog-close"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){1&e&&(t.ynx(0),t.TgZ(1,"mat-card",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),t._uU(6),t.ALo(7,"titlecase"),t.qZA()(),t.TgZ(8,"div",5)(9,"mat-icon",6),t.NdJ("click",function(){return n.closePopup()}),t._uU(10,"close"),t.qZA()()()(),t.TgZ(11,"mat-dialog-content",7)(12,"form",8)(13,"div",9)(14,"div",2)(15,"div",3)(16,"mat-checkbox"),t._uU(17,"Primary Mobile"),t.qZA()(),t.TgZ(18,"div",3)(19,"mat-checkbox"),t._uU(20,"Father's Mobile"),t.qZA()()(),t.TgZ(21,"div",2)(22,"div",3)(23,"mat-checkbox"),t._uU(24,"Mother's Mobile"),t.qZA()(),t.TgZ(25,"div",3)(26,"mat-checkbox"),t._uU(27,"Alternate Mobile"),t.qZA()()(),t.TgZ(28,"mat-form-field",10)(29,"mat-label"),t._uU(30,"Select SMS Template"),t.qZA(),t.TgZ(31,"mat-select",11)(32,"mat-option",12),t._uU(33,"Address Template "),t.qZA(),t.TgZ(34,"mat-option",13),t._uU(35,"Template 2"),t.qZA(),t.TgZ(36,"mat-option",14),t._uU(37,"Template 3"),t.qZA()(),t.YNc(38,Rt,3,0,"button",15),t.qZA(),t.TgZ(39,"mat-form-field",10),t._UZ(40,"textarea",16),t.qZA(),t.TgZ(41,"mat-form-field",10)(42,"mat-label"),t._uU(43,"Please Select Route"),t.qZA(),t.TgZ(44,"mat-select",17)(45,"mat-option",18),t._uU(46,"Route 1"),t.qZA(),t.TgZ(47,"mat-option",19),t._uU(48,"Route 2"),t.qZA(),t.TgZ(49,"mat-option",20),t._uU(50,"Route 3"),t.qZA()(),t.YNc(51,Qt,3,0,"button",15),t.qZA()()()(),t.TgZ(52,"mat-dialog-actions",21)(53,"button",22),t._uU(54,"CANCEL"),t.qZA(),t.TgZ(55,"button",23),t._uU(56,"SEND SMS"),t.qZA()()(),t.BQk()),2&e&&(t.xp6(6),t.hij("Send SMS To ",t.lcZ(7,5,n.data.lead),""),t.xp6(6),t.Q6J("formGroup",n.smsForm),t.xp6(26),t.Q6J("ngIf",null==n.f.smsTemplate?null:n.f.smsTemplate.value),t.xp6(13),t.Q6J("ngIf",null==n.f.route?null:n.f.route.value),t.xp6(4),t.Q6J("mat-dialog-close",!0))},dependencies:[d.O5,f.lW,C.Hw,u.KE,u.hX,u.R9,F.Nt,P.oG,h.a8,w.gD,b.ey,p.ZT,p.uh,p.xY,p.H8,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,U.p,d.rS],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:none!important}mat-dialog-content[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]{padding:1rem 3rem;margin:0}"]}),o})();var G=c(1948);function $t(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("whatsappTemplate"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}let K=(()=>{class o{constructor(e,n,l){this.dialogRef=e,this.data=n,this._fb=l,console.log(n.lead,"whtasapp-followup")}ngOnInit(){this.initForm()}initForm(){this.enterprise=this._fb.group({contactNumber:[""]}),this.nonEnterprise=this._fb.group({contactNumber:[""],whatsappTemplate:[""],message:[""]})}get f(){return this.nonEnterprise.controls}clearSelectField(e){this.nonEnterprise.get(e)?.reset()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-followup-whatsappchat"]],decls:76,vars:6,consts:[[1,"mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],["mat-dialog-close",""],[1,"container"],["label","Enterprise"],[3,"formGroup"],[1,"row","my-3"],[1,"col-12"],[1,"row","mb-2"],["formControlName","contactNumber"],["value","primaryNumber"],["value","fatherNumber"],["value","motherNumber"],["value","alternateNumber"],[1,"col-12","set-custom-h"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",1,"mat-cancel"],["mat-button","","type","button","cdkFocusInitial","",1,"mat-disable"],["label","Non-enterprise"],["appearance","outline",1,"mb-1"],["placeholder","Select SMS Template","formControlName","whatsappTemplate"],["value","template1"],["value","template2"],["value","template3"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matInput","","appFormSpace","","rows","5","placeholder","Enter Your Text Here","formControlName","selectedTemplate"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),t._uU(5),t.ALo(6,"titlecase"),t.qZA()(),t.TgZ(7,"div",4)(8,"mat-icon",5),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"mat-dialog-content")(11,"div",6)(12,"mat-tab-group")(13,"mat-tab",7)(14,"form",8)(15,"div",9)(16,"div",10)(17,"b"),t._uU(18,"Select The WhatsApp Number To Send"),t.qZA()()(),t.TgZ(19,"div",11)(20,"div",10)(21,"mat-radio-group",12)(22,"mat-radio-button",13),t._uU(23,"Primary Number"),t.qZA(),t.TgZ(24,"mat-radio-button",14),t._uU(25,"Father's Number"),t.qZA(),t.TgZ(26,"mat-radio-button",15),t._uU(27,"Mother's Number"),t.qZA(),t.TgZ(28,"mat-radio-button",16),t._uU(29,"Alternate Number"),t.qZA()()()(),t.TgZ(30,"div",9)(31,"div",17)(32,"b"),t._uU(33,"Do You Want To Send the Business Initiated Messages(BIM)?"),t.qZA()()(),t.TgZ(34,"div",18)(35,"button",19),t._uU(36,"CANCEL"),t.qZA(),t.TgZ(37,"button",20),t._uU(38,"SUBMIT"),t.qZA()()()(),t.TgZ(39,"mat-tab",21)(40,"form",8)(41,"div",9)(42,"div",10)(43,"b"),t._uU(44,"Select The WhatsApp Number To Send"),t.qZA()()(),t.TgZ(45,"div",11)(46,"div",10)(47,"mat-radio-group",12)(48,"mat-radio-button",13),t._uU(49,"Primary Number"),t.qZA(),t.TgZ(50,"mat-radio-button",14),t._uU(51,"Father's Number"),t.qZA(),t.TgZ(52,"mat-radio-button",15),t._uU(53,"Mother's Number"),t.qZA(),t.TgZ(54,"mat-radio-button",16),t._uU(55,"Alternate Number"),t.qZA()()()(),t.TgZ(56,"mat-form-field",22)(57,"mat-label"),t._uU(58,"Select WhatsApp Template"),t.qZA(),t.TgZ(59,"mat-select",23)(60,"mat-option",24),t._uU(61,"Address Template "),t.qZA(),t.TgZ(62,"mat-option",25),t._uU(63,"Template 2"),t.qZA(),t.TgZ(64,"mat-option",26),t._uU(65,"Template 3"),t.qZA()(),t.YNc(66,$t,3,0,"button",27),t.qZA(),t.TgZ(67,"mat-form-field",22)(68,"mat-label"),t._uU(69,"Message"),t.qZA(),t._UZ(70,"textarea",28),t.qZA(),t.TgZ(71,"div",18)(72,"button",19),t._uU(73,"CANCEL"),t.qZA(),t.TgZ(74,"button",20),t._uU(75,"SEND WHATSAPP"),t.qZA()()()()()()()()),2&e&&(t.xp6(5),t.hij("WhatsApp Chat To ",t.lcZ(6,4,n.data.lead),""),t.xp6(9),t.Q6J("formGroup",n.enterprise),t.xp6(26),t.Q6J("formGroup",n.nonEnterprise),t.xp6(26),t.Q6J("ngIf",null==n.f.smsTemplate?null:n.f.smsTemplate.value))},dependencies:[d.O5,f.lW,C.Hw,u.KE,u.hX,u.R9,F.Nt,k.SP,k.uX,h.a8,w.gD,b.ey,p.ZT,p.uh,p.xY,p.H8,G.VQ,G.U0,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,U.p,d.rS],styles:[".mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:0 20px!important;overflow-y:hidden!important;font-size:13px}.mat-dialog-actions[_ngcontent-%COMP%]{padding:10px 20px 34px!important}mat-card[_ngcontent-%COMP%]{box-shadow:none!important;margin:0;padding:0}.mat-radio-button[_ngcontent-%COMP%]{font-size:12px;color:gray;padding-right:5px}.set-custom-h[_ngcontent-%COMP%]{height:20vh}"]}),o})();var jt=c(1679);function Ht(o,i){if(1&o&&(t.TgZ(0,"h1",24),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Send Email To ",t.lcZ(2,1,e.data.selectedData.lead),"")}}function Gt(o,i){1&o&&(t.TgZ(0,"h1",25),t._uU(1,"Send Email "),t.qZA())}function Kt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onChanges(a,s.f.emailTemplate.value))}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function zt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.clearSelectField("emailTemplate"))}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Vt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Template Is Required. "),t.qZA())}function Bt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Subject Is Required"),t.qZA())}let z=(()=>{class o{constructor(e,n,l,a,s){this._bottomSheetRef=e,this.data=n,this.fb=l,this.api=a,this._baseService=s,console.log(n.selectedData.lead,"selected data"),console.log(n.name,"data.selectedData?.user_data?.first_name")}ngOnInit(){this.initForm(),this.getTemplate()}initForm(){this.emailForm=this.fb.group({emailTemplate:[""],subject:["",r.kI.required],followupComment:["",r.kI.required]})}get f(){return this.emailForm.controls}clearSelectField(e){this.emailForm.get(e)?.reset()}onSubmit(){if(this.emailForm.invalid)this.emailForm.markAllAsTouched(),this.api.showError("Invalid Form");else{const e=this.emailForm.value;let n={};n=this.data.checked?{all_users:!0,subject:e.subject,message:e.followupComment,template_id:e.emailTemplate,template_type_id:5}:this.data.bulkIds?.length>0?{all_users:!1,lead_list_ids:this.data.bulkIds,subject:e.subject,message:e.followupComment,template_id:e.emailTemplate,template_type_id:5}:{all_users:!1,lead_list_ids:[this.data.selectedData.id],subject:e.subject,message:e.followupComment,template_id:e.emailTemplate,template_type_id:5},this._baseService.postData(g.N.lead_email,n).subscribe(l=>{l&&(this._bottomSheetRef.dismiss(),this.api.showSuccess(l.message))},l=>{this.api.showError(this.api.toTitleCase(l.error.message))})}}closePopup(){this._bottomSheetRef.dismiss()}getTemplate(){this._baseService.getData(`${g.N.whatsapp_template}`).subscribe(e=>{e.results&&(this.templateList=e.results)})}onChanges(e,n){this.basicTemplate="",n&&e&&e.id===n&&(this.basicTemplate=`#Hi# ${e.message} #first_name#`,this.emailForm.patchValue({followupComment:this.basicTemplate}))}onInput(e){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.oL),t.Y36(m.OG),t.Y36(r.qu),t.Y36(T.s),t.Y36(Z.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-followup-email"]],inputs:{selectedId:"selectedId"},decls:34,vars:8,consts:[[1,"p-0","m-0"],[1,"add-users","mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title","","class","text-truncate","style","width: 250px !important;",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],[1,"col-1","close-icon"],[3,"click"],[1,"mat-typography","mx-2"],[3,"formGroup"],[1,"container"],["appearance","outline",1,"mb-1"],["placeholder","Select Email Template","formControlName","emailTemplate"],[3,"value","click",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngIf"],[1,"mat-input-container"],["for","followupComment"],["matInput","","appFormSpace","","contenteditable","true","readonlyTextarea","","formControlName","followupComment",3,"innerHtml","input"],["appearance","outline"],["matInput","","appFormSpace","","appFormSpace","","placeholder","Enter The Subject","formControlName","subject"],[1,"d-flex"],["mat-button","",1,"mat-cancel","m-1",3,"click"],["mat-button","","cdkFocusInitial","",1,"mat-disable","m-1",3,"click"],["mat-dialog-title","",1,"text-truncate",2,"width","250px !important"],["mat-dialog-title",""],[3,"value","click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-card",0)(2,"div",1)(3,"div",2)(4,"div",3),t.YNc(5,Ht,3,3,"h1",4),t.YNc(6,Gt,2,0,"h1",5),t.qZA(),t.TgZ(7,"div",6)(8,"mat-icon",7),t.NdJ("click",function(){return n.closePopup()}),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"mat-dialog-content",8)(11,"form",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),t._uU(15,"Select Email Template"),t.qZA(),t.TgZ(16,"mat-select",12),t.YNc(17,Kt,2,2,"mat-option",13),t.qZA(),t.YNc(18,zt,3,0,"button",14),t.YNc(19,Vt,2,0,"mat-error",15),t.qZA(),t.TgZ(20,"div",16)(21,"label",17),t._uU(22,"Follow Up Comment"),t.qZA(),t.TgZ(23,"div",18),t.NdJ("input",function(a){return n.onInput(a)}),t.qZA()(),t.TgZ(24,"mat-form-field",19)(25,"mat-label"),t._uU(26,"Subject"),t.qZA(),t._UZ(27,"input",20),t.YNc(28,Bt,2,0,"mat-error",15),t.qZA()()()(),t.TgZ(29,"mat-dialog-actions",21)(30,"button",22),t.NdJ("click",function(){return n.closePopup()}),t._uU(31,"CANCEL"),t.qZA(),t.TgZ(32,"button",23),t.NdJ("click",function(){return n.onSubmit()}),t._uU(33,"SEND EMAIL"),t.qZA()()(),t.BQk()),2&e){let l;t.xp6(5),t.Q6J("ngIf",n.data.selectedData.lead),t.xp6(1),t.Q6J("ngIf",!n.data.selectedData.lead),t.xp6(5),t.Q6J("formGroup",n.emailForm),t.xp6(6),t.Q6J("ngForOf",n.templateList),t.xp6(1),t.Q6J("ngIf",(null==(l=n.emailForm.get("emailTemplate"))||null==l.value?null:l.value.length)>0),t.xp6(1),t.Q6J("ngIf",n.f.emailTemplate.hasError("required")),t.xp6(4),t.Q6J("innerHtml",n.f.followupComment.value,t.oJD),t.xp6(5),t.Q6J("ngIf",n.f.subject.hasError("required"))}},dependencies:[d.sg,d.O5,f.lW,C.Hw,u.TO,u.KE,u.hX,u.R9,F.Nt,h.a8,w.gD,b.ey,p.uh,p.xY,p.H8,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,U.p,jt.L,d.rS],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:none!important}mat-dialog-content[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]{padding:1rem;margin:0}.mat-input-container[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;padding:8px;display:flex;flex-direction:column;font-family:Roboto,sans-serif}label[_ngcontent-%COMP%]{margin-bottom:4px}div[contenteditable=true][_ngcontent-%COMP%]{border:none;outline:none;padding:0;margin:0;resize:none;overflow:auto;white-space:pre-wrap;min-height:100px;background-color:transparent}"]}),o})();function Wt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Amount Is Required. "),t.qZA())}function Xt(o,i){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function te(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Communication Channel Is Required. "),t.qZA())}let ee=(()=>{class o{constructor(e,n,l,a,s,_){this.dialogRef=e,this.data=n,this.fb=l,this._baseService=a,this.api=s,this.emitService=_,this.smsChecked=!1,this.emailChecked=!1,this.whatsappChecked=!1,this.channels=["SMS","EMAIL","WHATSAPP"]}ngOnInit(){this.initForm()}initForm(){this.paymentForm=this.fb.group({amount:["",[r.kI.required]],channel:["",[r.kI.required]]})}closePopup(){this.dialogRef.close()}get f(){return this.paymentForm.controls}clearSelectField(e){this.paymentForm.get(e)?.reset()}onSubmit(){if(this.paymentForm.invalid)this.paymentForm.markAllAsTouched();else{let e={};e="BULK"===this.data.name?{amount:this.paymentForm.value.amount,channel:this.paymentForm.value.channel,lead_ids:this.data.data,counsellor_id:[2]}:{amount:100*this.paymentForm.value.amount,channel:this.paymentForm.value.channel,lead_ids:[this.data.user_data.id],counsellor_id:[2]},console.log(e,"FORMDATA"),this._baseService.postData(`${g.N.leadPayment}`,e).subscribe(n=>{n&&(this.api.showSuccess(n.message),this.closePopup(),this.emitService.paymentLink())},n=>{this.api.showError(n.error.error.message)})}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(r.qu),t.Y36(Z.x),t.Y36(T.s),t.Y36(N.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-followup-payment-details"]],decls:36,vars:4,consts:[[1,"p-0","m-0"],[1,"add-users","mat-dialog-header"],[1,"row"],[1,"col"],["mat-dialog-title",""],[1,"col-1","close-icon"],[3,"click"],[1,"mat-typography","m-2","pt-2"],[3,"formGroup"],[1,"col-12"],[1,"mt-2"],["appearance","outline",1,"mb-1"],["matInput","","type","number","formControlName","amount","required","","placeholder","Enter The Amount"],[4,"ngIf"],[1,"row","mt-1"],["formControlName","channel","placeholder","Season","multiple",""],["required","",3,"value",4,"ngFor","ngForOf"],[1,"d-flex"],["mat-button","",1,"mat-cancel","m-1",3,"click"],["mat-raised-button","","color","primary",1,"mat-disable","m-1",3,"click"],["required","",3,"value"]],template:function(e,n){1&e&&(t.ynx(0),t.TgZ(1,"mat-card",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),t._uU(6,"Payment Details"),t.qZA()(),t.TgZ(7,"div",5)(8,"mat-icon",6),t.NdJ("click",function(){return n.closePopup()}),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"mat-dialog-content",7)(11,"form",8)(12,"div",2)(13,"div",9)(14,"mat-label",10),t._uU(15,"Enter The Amount"),t.qZA(),t.TgZ(16,"mat-form-field",11)(17,"mat-label"),t._uU(18,"Amount"),t.qZA(),t._UZ(19,"input",12),t.YNc(20,Wt,2,0,"mat-error",13),t.qZA()()(),t.TgZ(21,"div",14)(22,"div",9)(23,"mat-label"),t._uU(24,"Select The Communication Channel"),t.qZA(),t.TgZ(25,"mat-form-field",11)(26,"mat-label"),t._uU(27,"Select The Communication Channel"),t.qZA(),t.TgZ(28,"mat-select",15),t.YNc(29,Xt,2,2,"mat-option",16),t.qZA(),t.YNc(30,te,2,0,"mat-error",13),t.qZA()()()()(),t.TgZ(31,"mat-dialog-actions",17)(32,"button",18),t.NdJ("click",function(){return n.closePopup()}),t._uU(33,"CANCEL"),t.qZA(),t.TgZ(34,"button",19),t.NdJ("click",function(){return n.onSubmit()}),t._uU(35,"SEND LINK"),t.qZA()()(),t.BQk()),2&e&&(t.xp6(11),t.Q6J("formGroup",n.paymentForm),t.xp6(9),t.Q6J("ngIf",n.f.amount.hasError("required")),t.xp6(9),t.Q6J("ngForOf",n.channels),t.xp6(1),t.Q6J("ngIf",n.f.channel.hasError("required")))},dependencies:[d.sg,d.O5,f.lW,C.Hw,u.TO,u.KE,u.hX,F.Nt,h.a8,w.gD,b.ey,p.uh,p.xY,p.H8,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:none!important;height:90%!important}mat-dialog-content[_ngcontent-%COMP%]{height:70%!important}.dlx-bx[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.dlx-bx[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}mat-label[_ngcontent-%COMP%]{font-weight:700;margin:0 auto}"]}),o})();var oe=c(9602),V=c(8739),y=c(2953),ne=c(6219),O=c(4633);const le=["dateType"];function ie(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item",7),t.NdJ("click",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.onChange(l))}),t._UZ(1,"i",8),t.TgZ(2,"div",9),t._uU(3),t.qZA()()}if(2&o){const e=i.$implicit;t.xp6(3),t.Oqu(e)}}let ae=(()=>{class o{constructor(e){this.dataService=e,this.selectedSort=new t.vpe,this.filterFollowUp=new I,this.typesOfDate=["Ascending","Descending","Creation Date","Modification Date","Next Action Date"],this.updateAPIURL=null,this.selected=!1}ngOnInit(){}onChange(e){this.selected=!0,this.selectedSort.emit(e)}openNotification(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-followup-sort"]],viewQuery:function(e,n){if(1&e&&t.Gf(le,5),2&e){let l;t.iGM(l=t.CRH())&&(n.dateType=l.first)}},outputs:{selectedSort:"selectedSort"},decls:8,vars:1,consts:[[1,"row"],[1,"col-1"],["ngbDropdown","",1,"d-inline-block"],["title","Sort","ngbDropdownToggle","",1,"bi","bi-arrow-down-up"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"more-dropdown","sort-lead-dropdown"],["dateType",""],["ngbDropdownToggle","",3,"click",4,"ngFor","ngForOf"],["ngbDropdownToggle","",3,"click"],["mat-list-icon","",1,"bi","bi-calendar-week-fill","more-inner-icon"],["mat-line","",1,"app-list"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t.TgZ(4,"div",4)(5,"mat-list",null,5),t.YNc(7,ie,4,1,"mat-list-item",6),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("ngForOf",n.typesOfDate))},dependencies:[d.sg,O.i$,O.Tg,b.X2,O.Nh,y.jt,y.iD,y.Vi],styles:[".bi-arrow-down-up[_ngcontent-%COMP%]{font-size:x-large;color:var(--appColor)}.app-list[_ngcontent-%COMP%]{font-size:13px!important;padding:3px;cursor:pointer;background:none!important;color:#666!important}.more-dropdown[_ngcontent-%COMP%]{padding-bottom:12px!important}.more-inner-icon[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none!important}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item.mat-list-item-with-avatar[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option.mat-list-item-with-avatar[_ngcontent-%COMP%]{height:30px!important}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-icon[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-list-icon[_ngcontent-%COMP%]{font-size:16px!important;padding:0!important}"]}),o})();var J=c(3189);const re=["allPaginator"],se=["noResultsSection"];function ce(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"app-my-followup-sort",42),t.NdJ("selectedSort",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.getSort(l))}),t.qZA()}}function pe(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"a",43),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.downloadLead())}),t._UZ(1,"img",44),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("href",e.exportReference,t.LSH)}}function de(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.downloadLead())}),t._UZ(1,"img",44),t.qZA()}}function ue(o,i){1&o&&t._UZ(0,"i",46)}function me(o,i){1&o&&t._UZ(0,"i",47)}function _e(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",30)(1,"button",48),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.refreshFollowUps())}),t._UZ(2,"i",49),t._uU(3," GO BACK "),t.qZA()()}}function ge(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-checkbox",50),t.NdJ("change",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.selectAll(l,a.renderingData))}),t.TgZ(1,"div",51),t._uU(2," SELECT ALL "),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("checked",e.checkAll)}}function he(o,i){if(1&o&&(t.TgZ(0,"p",52),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" Applied Date \xa0 : \xa0 ",t.xi3(2,1,e.selectedDate,"dd-MM-yyyy ")," ")}}function fe(o,i){1&o&&t._UZ(0,"app-nodata",53)}function Ce(o,i){1&o&&(t.TgZ(0,"div",30),t._UZ(1,"app-nodata",53),t.qZA())}function be(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",84),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().index,a=t.oxw(2);return t.KtG(a.expandCard(l))}),t._uU(1,"expand_more"),t.qZA()}}function we(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",85),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().index,a=t.oxw(2);return t.KtG(a.expandCard(l))}),t._uU(1,"expand_less"),t.qZA()}}function ve(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function Te(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.lead_number," ")}}function Ze(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function Fe(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.lead_id," ")}}function xe(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("NA"))}function ye(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.age," ")}}function Ae(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1,"NA"),t.qZA())}function Ue(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.source," ")}}function Me(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function Se(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.action_date_time,"medium")," ")}}function ke(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function qe(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.modified_datetime,"medium")," ")}}function Ie(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function Ne(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_datetime,"medium")," ")}}function Pe(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function Oe(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.city," ")}}function Je(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function De(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.created_by," ")}}function Ee(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","NA"," "))}function Le(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.payment_status," ")}}function Ye(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1," NA "),t.qZA())}function Re(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.admission_status," ")}}function Qe(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1," NA "),t.qZA())}function $e(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.docs_process," ")}}function je(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1," NA "),t.qZA())}function He(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.course_looking_for," ")}}function Ge(o,i){1&o&&(t.TgZ(0,"div",37),t._uU(1,"NA"),t.qZA())}function Ke(o,i){if(1&o&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.stream," ")}}function ze(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-card",86)(2,"div",87)(3,"div",87)(4,"div",30)(5,"div",61)(6,"div",88),t._uU(7,"Lead Number"),t.qZA(),t.YNc(8,ve,2,1,"div",89),t.YNc(9,Te,2,1,"div",89),t.qZA()(),t.TgZ(10,"div",30)(11,"div",61)(12,"div",88),t._uU(13,"Lead ID"),t.qZA(),t.YNc(14,Ze,2,1,"div",89),t.YNc(15,Fe,2,1,"div",89),t.qZA()(),t.TgZ(16,"div",30)(17,"div",61)(18,"div",88),t._uU(19,"Age"),t.qZA(),t.YNc(20,xe,2,1,"div",89),t.YNc(21,ye,2,1,"div",89),t.qZA()(),t.TgZ(22,"div",30)(23,"div",61)(24,"div",88),t._uU(25,"Source"),t.qZA(),t.YNc(26,Ae,2,0,"div",89),t.YNc(27,Ue,2,1,"div",89),t.qZA()(),t.TgZ(28,"div",30)(29,"div",61)(30,"div",88),t._uU(31,"Next Action Date"),t.qZA(),t.YNc(32,Me,2,1,"div",89),t.YNc(33,Se,3,4,"div",89),t.qZA()()(),t.TgZ(34,"div",90)(35,"div",30)(36,"div",61)(37,"div",88),t._uU(38," Modification Date Time "),t.qZA(),t.YNc(39,ke,2,1,"div",89),t.YNc(40,qe,3,4,"div",89),t.qZA()(),t.TgZ(41,"div",30)(42,"div",61)(43,"div",88),t._uU(44,"Creation Date Time"),t.qZA(),t.YNc(45,Ie,2,1,"div",89),t.YNc(46,Ne,3,4,"div",89),t.qZA()(),t.TgZ(47,"div",30)(48,"div",61)(49,"div",88),t._uU(50,"Lead Owner"),t.qZA(),t.TgZ(51,"div",37),t._uU(52),t.qZA()()(),t.TgZ(53,"div",30)(54,"div",61)(55,"div",88),t._uU(56,"City"),t.qZA(),t.YNc(57,Pe,2,1,"div",89),t.YNc(58,Oe,2,1,"div",89),t.qZA()(),t.TgZ(59,"div",30)(60,"div",61)(61,"div",88),t._uU(62,"Followup Created By"),t.qZA(),t.YNc(63,Je,2,1,"div",89),t.YNc(64,De,2,1,"div",89),t.qZA()()(),t.TgZ(65,"div",87)(66,"div",30)(67,"div",61)(68,"div",88),t._uU(69,"Payment Status"),t.qZA(),t.YNc(70,Ee,2,1,"div",89),t.YNc(71,Le,2,1,"div",89),t.qZA()(),t.TgZ(72,"div",30)(73,"div",61)(74,"div",88),t._uU(75,"Admission Status"),t.qZA(),t.YNc(76,Ye,2,0,"div",89),t.YNc(77,Re,2,1,"div",89),t.qZA()(),t.TgZ(78,"div",30)(79,"div",61)(80,"div",88),t._uU(81,"Document Status"),t.qZA(),t.YNc(82,Qe,2,0,"div",89),t.YNc(83,$e,2,1,"div",89),t.qZA()(),t.TgZ(84,"div",30)(85,"div",61)(86,"div",88),t._uU(87,"Course"),t.qZA(),t.YNc(88,je,2,0,"div",89),t.YNc(89,He,2,1,"div",89),t.qZA()(),t.TgZ(90,"div",30)(91,"div",61)(92,"div",88),t._uU(93,"Stream"),t.qZA(),t.YNc(94,Ge,2,0,"div",89),t.YNc(95,Ke,2,1,"div",89),t.qZA()()()(),t._UZ(96,"div",87)(97,"div",87),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(8),t.Q6J("ngIf",!e.lead_number),t.xp6(1),t.Q6J("ngIf",e.lead_number),t.xp6(5),t.Q6J("ngIf",!e.lead_id),t.xp6(1),t.Q6J("ngIf",e.lead_id),t.xp6(5),t.Q6J("ngIf",!e.age),t.xp6(1),t.Q6J("ngIf",e.age),t.xp6(5),t.Q6J("ngIf",!e.source),t.xp6(1),t.Q6J("ngIf",e.source),t.xp6(5),t.Q6J("ngIf",!e.action_date_time),t.xp6(1),t.Q6J("ngIf",e.action_date_time),t.xp6(6),t.Q6J("ngIf",!e.modified_datetime),t.xp6(1),t.Q6J("ngIf",e.modified_datetime),t.xp6(5),t.Q6J("ngIf",!e.created_datetime),t.xp6(1),t.Q6J("ngIf",e.created_datetime),t.xp6(6),t.AsE(" ",e.counsellor_first_name," ",e.counsellor_last_name," "),t.xp6(5),t.Q6J("ngIf",!e.city),t.xp6(1),t.Q6J("ngIf",e.city),t.xp6(5),t.Q6J("ngIf",!e.created_by),t.xp6(1),t.Q6J("ngIf",e.created_by),t.xp6(6),t.Q6J("ngIf",!e.payment_status),t.xp6(1),t.Q6J("ngIf",e.payment_status),t.xp6(5),t.Q6J("ngIf",!e.admission_status),t.xp6(1),t.Q6J("ngIf",e.admission_status),t.xp6(5),t.Q6J("ngIf",!e.docs_process),t.xp6(1),t.Q6J("ngIf",e.docs_process),t.xp6(5),t.Q6J("ngIf",!e.course_looking_for),t.xp6(1),t.Q6J("ngIf",e.course_looking_for),t.xp6(5),t.Q6J("ngIf",!e.stream),t.xp6(1),t.Q6J("ngIf",e.stream)}}const Ve=function(o,i,e){return{yellow:o,green:i,red:e}};function Be(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",55),t.YNc(1,Ce,2,0,"ng-template",null,56,t.W1O),t.TgZ(3,"mat-card",2)(4,"div",57)(5,"div",58)(6,"div",0)(7,"div",59)(8,"mat-checkbox",60),t.NdJ("change",function(l){const s=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.onCheckboxChange(l,s.lead_id,s.lead))})("ngModelChange",function(l){const s=t.CHM(e).$implicit;return t.KtG(s.checked=l)}),t.qZA()(),t.TgZ(9,"div",30)(10,"div",61)(11,"div",62),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.EditFollowups(a.id))}),t._uU(12),t.ALo(13,"titlecase"),t.qZA(),t.TgZ(14,"div",63)(15,"b"),t._uU(16),t.qZA()()()()()(),t._UZ(17,"div",30),t.TgZ(18,"div",64)(19,"div",0)(20,"div",65)(21,"b"),t._uU(22),t.ALo(23,"uppercase"),t.qZA()()()(),t._UZ(24,"div",30)(25,"div",66),t.TgZ(26,"div",67)(27,"div",0)(28,"div",68)(29,"div",69)(30,"mat-icon",70),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.openMorePanel())}),t._uU(31,"more_vert"),t.qZA(),t.TgZ(32,"div",71)(33,"div",72),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.EditFollowups(a.id))}),t._UZ(34,"img",73),t.TgZ(35,"span",74),t._uU(36,"Edit"),t.qZA()()()()(),t.TgZ(37,"div",75),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.IndividualopenVideoCall(a))}),t._UZ(38,"img",12),t.qZA(),t.TgZ(39,"div",76),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.IndividualopenSMS(a))}),t._UZ(40,"img",16),t.qZA(),t.TgZ(41,"div",77),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.IndividualopenEmailChat(a))}),t._UZ(42,"img",78),t.qZA(),t.TgZ(43,"div",79),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.IndividualopenWhatsAppChat(a))}),t._UZ(44,"img",14),t.qZA(),t.TgZ(45,"div",80),t.YNc(46,be,2,0,"mat-icon",81),t.YNc(47,we,2,0,"mat-icon",82),t.qZA()()()(),t.YNc(48,ze,98,30,"ng-container",83),t.qZA()()}if(2&o){const e=i.$implicit,n=i.index,l=t.oxw(2);t.xp6(8),t.Q6J("ngModel",e.checked),t.xp6(4),t.hij(" ",t.lcZ(13,8,e.lead)," "),t.xp6(4),t.Oqu(e.lead_mobile_number),t.xp6(4),t.Q6J("ngClass",t.kEZ(12,Ve,"Upcoming"==e.follow_up_status_name,"Done"==e.follow_up_status_name,"Missed"==e.follow_up_status_name)),t.xp6(2),t.hij(" ",t.lcZ(23,10,e.follow_up_status_name),""),t.xp6(24),t.Q6J("ngIf",l.expandedCardIndex!==n),t.xp6(1),t.Q6J("ngIf",l.expandedCardIndex===n),t.xp6(1),t.Q6J("ngIf",l.expandedCardIndex===n)}}function We(o,i){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,Be,49,16,"div",54),t.ALo(2,"filter"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.renderingData,e.followupSearch))}}const Xe=function(){return[5,10,25,100]};let B=(()=>{class o{constructor(e,n,l,a,s,_,M,S,D,E,L){this._bottomSheet=e,this.dialog=n,this.api=l,this._bottomSheetRef=a,this.data=s,this.datePipe=_,this.emit=M,this._baseService=S,this.addEventEmitter=D,this.dataService=E,this.fb=L,this.filterFollowUp=new I,this.selectedDate=null,this.selectedSort=new t.vpe,this.expandPanel=!1,this.morePanel=!1,this.expandedCardIndex=-1,this.page=1,this.pageSize=5,this.followUpsData=[],this.upcomingFollowUpData=[],this.missedFolloUpData=[],this.doneFollowUpData=[],this.searchTerm="",this.followUpsDataTemp=[],this.allData=[],this.filterData=[],this.selectedCheckboxIds=[],this.checkAll=!1,this.selectedTab="All",this.filtered=!1,this.allFollowUpDataSource=new tt.by([]),this.followupSearch="",this.selectAllCheckboxes=!1,this.allLeadIds=[],this.currentdate=new Date,this.formattedDate=this.datePipe.transform(this.currentdate,"yyyy-MM-dd"),this.countData=[],this.noData=!1,this.countDataValue={},this.alwaysShowCalendars=!0,this.counsellor_id=localStorage.getItem("user_id"),console.log(this.counsellor_id,"counsellor id"),this.role=localStorage.getItem("user_role"),this.user_id=localStorage.getItem("user_id"),this.user_role=localStorage.getItem("user_role"),console.log(this.role,"roleeeeeeeeeeeeeee"),console.log(s,"data"),this.dataService.data$.subscribe(q=>{null!=q&&(console.log(q),this.refreshFollowUps())})}receiveData(){const e=this.dataService.getSharedData();console.log(e,"filtered count and filterd")}ngOnInit(){this.dataService.dataUpdated.subscribe(e=>{console.log(e,"filtercount"),this.filtered=e}),console.log("hello"),this.getFollowupIds(),this.updateAPIURL=this.dataService.getFollowupfilterURL(),console.log("updated url==>",this.updateAPIURL),this.APICAll()}expandCard(e){this.expandedCardIndex=this.expandedCardIndex===e?-1:e}openMorePanel(){this.morePanel=!this.morePanel}filterFollowups(){this._bottomSheet.open(ft,{panelClass:"lead-bottom-sheet",disableClose:!0}).afterDismissed().subscribe(l=>{console.log(l,"dataFromChild"),this.ngOnInit()})}EditFollowups(e){console.log(e,"leadid"),this._bottomSheet.open($,{panelClass:"lead-bottom-sheet",data:{id:e,data:this.data},disableClose:!0})}search(e){console.log(e,"eventtttttttttttttt")}closePopup(){this._bottomSheetRef.dismiss()}ngOnChanges(e){e.followUpsData&&(this.followUpsData2=this.renderingData,this.selectedCheckboxIds.length===this.totalCount?(this.checkAll=!0,this.checkBoxData()):(this.checkAll=!1,this.checkBoxData()))}onCheckboxChange(e,n,l){if(console.log(n,"itemId"),console.log(l,"from selected lead"),this.selectedLeadName=l,e.checked)this.selectedCheckboxIds?this.selectedCheckboxIds.includes(n)?this.checkAll=!1:(this.selectedCheckboxIds.push(n),this.selectedCheckboxIds.length===this.totalCount&&(this.checkAll=!0,this.checkBoxData())):this.selectedCheckboxIds=[];else{const a=this.selectedCheckboxIds.indexOf(n);-1!==a&&(this.selectedCheckboxIds.splice(a,1),this.checkAll=!1,this.checkBoxData())}}selectAll(e,n){this.checkAll=!this.checkAll,1==e.checked?(this.renderingData.forEach(l=>{l&&(l.checked=!0,this.selectedCheckboxIds=this.followupIds)}),console.log(this.selectedCheckboxIds,"allleaids"),console.log(this.selectedCheckboxIds,"LEADIDS"),this.checkBoxData()):this.renderingData.forEach(l=>{l&&(l.checked=!1,0==l.checked&&(this.selectedCheckboxIds=[]))})}checkBoxData(){for(let e of this.selectedCheckboxIds){const n=this.followUpsData2.find(l=>l.lead_id===e);n&&(n.checked=!0)}}followUpCounts(){this.api.followUpCountsOnCalenderForCounsellor(this.counsellor_id,this.formattedDate).subscribe(e=>{this.countData=e.results?.data.data_count,console.log(this.countData,"followups counts on date")},e=>{this.api.showError(e.error.message)})}clearSearch(e){this.followUpsData=this.followUpsDataTemp,console.log("Event",e.data),console.log(this.followUpsData.length,"length")}onChange(e){this.selectedSort.emit(e)}onSelect(e){this.selectedSort.emit(e)}refreshFollowUps(){this.selectedDate=null,this.filtered=!1,this.updateAPIURL="https://fcmdev.thestorywallcafe.com/api/follow-up/?page=1&page_size=5",this.APICAll(),this.selectedTab="All"}addCount(){this.checkAll?this.data="All":(this.data=this.selectedCheckboxIds.length,console.log(this.selectedCheckboxIds,"this.selectedCheckBoxesId"))}openReferLead(){const e=this.dialog.open(Yt,{width:"40%",data:{leadId:this.selectedCheckboxIds}});e.disableClose=!0,e.afterClosed().subscribe(n=>{console.log("The dialog was closed"),this.refreshFollowUps()})}referFollowups(){if(this.addCount(),0!==this.data){const n=this.dialog.open(x.Q,{width:"40%",data:`Do You Want To Refer ${this.data} Leads`});n.disableClose=!0,n.afterClosed().subscribe(l=>{"yes"===l&&this.openReferLead()})}else this.api.showWarning("Please select atleast one lead")}openVideoCall(){if(this.addCount(),0!==this.data){const n=this.dialog.open(x.Q,{width:"40%",data:`Do You Want To Send A Video Call Link To ${this.data} Leads `});n.disableClose=!0,n.afterClosed().subscribe(l=>{"yes"===l&&(this.bulkVideoCall(),this.refreshFollowUps())})}else this.api.showWarning("Please select atleast one lead")}IndividualopenVideoCall(e){const n=this.dialog.open(j,{width:"45%",data:e});n.disableClose=!0,n.afterClosed().subscribe(l=>{})}IndividualopenEmailChat(e){this._bottomSheet.open(z,{panelClass:"lead-bottom-sheet",disableClose:!0,data:{selectedData:e,bulkIds:this.selectedCheckboxIds,allChecked:this.checkAll}})}IndividualopenSMS(e){this._bottomSheet.open(H,{panelClass:"lead-bottom-sheet",disableClose:!0,data:e})}IndividualopenWhatsAppChat(e){const n=this.dialog.open(K,{width:"45%",data:e});n.disableClose=!0,n.afterClosed().subscribe(l=>{})}openWhatsAppChat(){if(this.addCount(),0!==this.data){const n=this.dialog.open(x.Q,{width:"40%",data:`Do You Want To Send WhatsApp To ${this.data} Leads`});n.disableClose=!0,n.afterClosed().subscribe(l=>{"yes"===l&&(this.bulkWhatsAppChat(),this.refreshFollowUps())})}else this.api.showWarning("Please select atleast one lead to download")}openSMS(e){if(this.addCount(),0!==this.data){const l=this.dialog.open(x.Q,{width:"40%",data:`Do You Want To Send SMS To ${this.data} Leads`});l.disableClose=!0,l.afterClosed().subscribe(a=>{"yes"===a&&(this.bulkSMS(),this.refreshFollowUps())})}else this.api.showWarning("Please select atleast one lead")}openEmailChat(e){if(this.addCount(),0!==this.data){const l=this.dialog.open(x.Q,{width:"40%",data:`Do You Want To Send Email To ${this.data} Leads`});l.disableClose=!0,l.afterClosed().subscribe(a=>{"yes"===a&&(this.bulkOpenEmailChat(),this.refreshFollowUps())})}else this.api.showWarning("Please select atleast one lead")}downloadLead(){this.selectedCheckboxIds.length>0?this.exportReference=`${g.N.export_leads}?ids=${this.selectedCheckboxIds}`:this.api.showWarning("Please select atleast one lead to download")}bulkVideoCall(){const e=this.dialog.open(j,{width:"45%"});e.disableClose=!0,e.afterClosed().subscribe(n=>{console.log("The dialog was closed"),this.refreshFollowUps()})}bulkSMS(){const e={panelClass:"lead-bottom-sheet",data:{name},disableClose:!0};this._bottomSheet.open(H,e)}bulkWhatsAppChat(){const e=this.dialog.open(K,{width:"45%"});e.disableClose=!0,e.afterClosed().subscribe(n=>{console.log("The dialog was closed"),this.refreshFollowUps()})}bulkOpenEmailChat(e){this._bottomSheet.open(z,{panelClass:"lead-bottom-sheet",data:{bulkIds:this.selectedCheckboxIds,allChecked:this.checkAll,name:this.selectedLeadName},disableClose:!0})}onClickLink(){if(this.addCount(),0!==this.data){const n=this.dialog.open(x.Q,{width:"40%",data:`Do You Want To Send A Link To  ${this.data} Leads`});n.disableClose=!0,n.afterClosed().subscribe(l=>{"yes"===l&&this.paymentDetailsLink()})}else this.api.showWarning("Please select atleast one lead")}paymentDetailsLink(){const e=this.dialog.open(ee,{width:"30%",height:"70%",data:{data:this.selectedCheckboxIds,name:"BULK"}});e.disableClose=!0,e.afterClosed().subscribe(n=>{this.refreshFollowUps()})}APICAll(){this.totalNumberOfRecords=[],console.log("final data url==>",this.updateAPIURL),this.api.FollowUpFilterApi(this.updateAPIURL).subscribe(e=>{console.log(e,"followup api  filetr all combination"),this.renderingData=e.results.data,this.totalNumberOfRecords=e.total_no_of_record,this.countDataValue=e.results.data_count},e=>{console.log(e,"error")})}getSort(e){let n=this.filterFollowUp.getSortDataBYForm("filter_by",e.target.innerText);this.updateAPIURL+=n.apistring,this.dataService.setFilteredFollowUpURL(this.updateAPIURL),this.ngOnInit()}getFilter(e){this.selectedTab=e,[{key:"page",value:1},{key:"page_size",value:10},this.filterFollowUp.getFilterFollowup("follow_up_status",e,this.updateAPIURL)].forEach(a=>{console.log(a);let s=this.filterFollowUp.updateUrlParameter(this.updateAPIURL,a.key,a.value);this.updateAPIURL=s}),this.dataService.setFilteredFollowUpURL(this.updateAPIURL),this.ngOnInit()}selectDate(e){const n=this.datePipe.transform(e,"yyyy-MM-dd"),l=this.filterFollowUp.getFilteredDate(n);console.log("apiurl",l),[{key:"page",value:1},{key:"page_size",value:10},l].forEach(s=>{console.log(s);let _=this.filterFollowUp.updateUrlParameter(this.updateAPIURL,s.key,s.value);this.updateAPIURL=_}),console.log("url i  select date",this.updateAPIURL),this.dataService.setFilteredFollowUpURL(this.updateAPIURL),this.ngOnInit()}getSearchValue(e){[{key:"page",value:1},{key:"page_size",value:10},this.filterFollowUp.getSearch(e.target.value)].forEach(a=>{console.log(a);let s=this.filterFollowUp.updateUrlParameter(this.updateAPIURL,a.key,a.value);this.updateAPIURL=s}),this.dataService.setFilteredFollowUpURL(this.updateAPIURL),this.ngOnInit()}getFollowupIds(){this.api.getLeadFollowUpIds().subscribe(e=>{this.followupIds=e.lead_ids,console.log(this.followupIds,"this.followupIds")})}onPageChangeNew(e){e.pageIndex+=1,[{key:"page",value:e.pageIndex},{key:"page_size",value:e.pageSize}].forEach(l=>{console.log(l);let a=this.filterFollowUp.updateUrlParameter(this.updateAPIURL,l.key,l.value);this.updateAPIURL=a}),console.log(this.updateAPIURL,"pagination"),this.dataService.setFilteredFollowUpURL(this.updateAPIURL),this.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.ch),t.Y36(p.uw),t.Y36(T.s),t.Y36(m.oL),t.Y36(m.OG),t.Y36(d.uU),t.Y36(N.A),t.Y36(Z.x),t.Y36(Q.d),t.Y36(A),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-followup-card-content"]],viewQuery:function(e,n){if(1&e&&(t.Gf(R.SP,5),t.Gf(re,5),t.Gf(se,5)),2&e){let l;t.iGM(l=t.CRH())&&(n.selectedSort=l.first),t.iGM(l=t.CRH())&&(n.allPaginator=l.first),t.iGM(l=t.CRH())&&(n.noResultsSection=l.first)}},inputs:{leadData:"leadData"},outputs:{selectedSort:"selectedSort"},features:[t.TTD],decls:59,vars:38,consts:[[1,"row"],[1,"col-8"],[1,""],[1,"col","d-flex"],[2,"margin-right","10px","color","blue",3,"click"],[2,"margin-right","10px","color","orange",3,"click"],[2,"margin-right","10px","color","green",3,"click"],[2,"margin-right","10px","color","red",3,"click"],[1,"col-sm-0","col-md-0","col-lg-6"],[3,"selectedSort",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-6"],["title","Send Video Conferencing Invite",1,"col","p-0",3,"click"],["src","./assets/images/videocall.png","alt","","height","17","width","17"],["title","WhatsApp Chat",1,"col","p-0",3,"click"],["src","./assets/images/WhatsApp_icon.png","alt","","height","21","width","21"],["title","Send SMS",1,"col","p-0",3,"click"],["src","./assets/images/chat.png","alt","","height","15","width","18"],["title","Send Email",1,"col","p-0",3,"click"],["src","./assets/images/email-icon.png","alt","","height","12","width","16"],["title","Page Refresh",1,"col","p-0",3,"click"],["src","./assets/images/refresh.svg","alt","","height","18","width","18"],["title","Download",1,"col","p-0",3,"click"],["target","_blank",3,"href","click",4,"ngIf"],["target","_blank",3,"click",4,"ngIf"],["title","Send Payment Link",1,"col","p-0",3,"click"],["src","./assets/images/link-icon.png","alt","","width","19","height","19"],["title","Filter",1,"col","p-0","d-flex",3,"click"],["class","bi bi-funnel","style","\n                  color: palevioletred !important;\n                  height: 20% !important;\n                  width: 20%;\n                  font-size: 18px !important;\n                ",4,"ngIf"],["style","color: palevioletred !important","class","bi bi-funnel-fill",4,"ngIf"],["class","col",4,"ngIf"],[1,"col"],["class","","class","ms-4",3,"checked","change",4,"ngIf","ngIfElse"],["style","color: orange","class","my-2",4,"ngIf"],["class","d-flex align-items-center justify-content-center",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],[1,"col",2,"padding","45px"],["id","calender-col",1,"input-group","z-s","m-auto","m-2"],[1,"col-12"],["type","search","placeholder","Search by Name/Mobile",1,"form-control","icon-rtl",3,"ngModel","ngModelChange","input"],[1,"custom-calendar","shadow-lg","my-5",3,"selected","selectedChange"],["aria-label","Select page",3,"length","pageSizeOptions","page"],["allPaginator",""],[3,"selectedSort"],["target","_blank",3,"href","click"],["src","./assets/images/download-icon.png","alt","","height","18","width","18"],["target","_blank",3,"click"],[1,"bi","bi-funnel",2,"color","palevioletred !important","height","20% !important","width","20%","font-size","18px !important"],[1,"bi","bi-funnel-fill",2,"color","palevioletred !important"],["mat-raised-button","",1,"go-back",3,"click"],[1,"bi","bi-arrow-left-circle-fill"],[1,"ms-4",3,"checked","change"],[1,"ps-3",2,"font-size","12px"],[1,"my-2",2,"color","orange"],[1,"d-flex","align-items-center","justify-content-center"],["class","col-12 col-md-12",4,"ngFor","ngForOf"],[1,"col-12","col-md-12"],["noResultsSection",""],[1,"row","d-flex","align-items-center","shadow-lg","p-3"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"col-2","d-flex","align-items-center"],[3,"ngModel","change","ngModelChange"],[1,"row","text-start"],[1,"col-12","c-name","point-set","fw-bold",3,"click"],[1,"col-12","text-muted","my-1",2,"font-size","10px"],[1,"col-sm-12","col-md-6","col-lg-2"],[1,"col-12",3,"ngClass"],[1,"col-sm-0","col-md-0","col-lg-1"],[1,"col-sm-12","col-md-6","col-lg-3","p-ct","my-0","py-0","gy-0","mx-0"],[1,"col","p-0"],["ngbDropdown","",1,"d-inline-block","lead-dropdown","my-1"],["id","dropdownBasic1","ngbDropdownToggle","",1,"common-class",3,"click"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"more-dropdown",2,"cursor","pointer"],["ngbDropdownToggle","",1,"app-list",3,"click"],["src","./assets/images/edit-icon.png","alt","","width","18","height","18"],[1,"mx-1","my-2"],["title","Send Video Conferencing Invite",1,"col","p-1",3,"click"],["title","Send SMS",1,"col","p-1","position-rel",3,"click"],["title","Send Email",1,"col","p-1",3,"click"],["src","./assets//images/email-icon.png","alt","","height","12","width","16"],["title","WhatsApp Chat",1,"col","p-1",3,"click"],[1,"col","p-0","py-1"],["title","View Details","class","common-class",3,"click",4,"ngIf"],["class","common-class",3,"click",4,"ngIf"],[4,"ngIf"],["title","View Details",1,"common-class",3,"click"],[1,"common-class",3,"click"],[1,"inner-expansion"],[1,"row","mb-1"],[1,"col-12","pannel-label"],["class","col-12",4,"ngIf"],[1,"row","my-2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",0)(4,"div",3)(5,"p",4),t.NdJ("click",function(){return n.getFilter("All")}),t._uU(6," All "),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"p",5),t.NdJ("click",function(){return n.getFilter("Upcoming")}),t._uU(10),t.qZA(),t.TgZ(11,"p",6),t.NdJ("click",function(){return n.getFilter("Done")}),t._uU(12),t.qZA(),t.TgZ(13,"p",7),t.NdJ("click",function(){return n.getFilter("Missed")}),t._uU(14),t.qZA()()(),t.TgZ(15,"div",0)(16,"div",8),t.YNc(17,ce,1,0,"app-my-followup-sort",9),t.qZA(),t.TgZ(18,"div",10)(19,"div",0)(20,"div",11),t.NdJ("click",function(){return n.openVideoCall()}),t._UZ(21,"img",12),t.qZA(),t.TgZ(22,"div",13),t.NdJ("click",function(){return n.openWhatsAppChat()}),t._UZ(23,"img",14),t.qZA(),t.TgZ(24,"div",15),t.NdJ("click",function(){return n.openSMS("All")}),t._UZ(25,"img",16),t.qZA(),t.TgZ(26,"div",17),t.NdJ("click",function(){return n.openEmailChat("All")}),t._UZ(27,"img",18),t.qZA(),t.TgZ(28,"div",19),t.NdJ("click",function(){return n.refreshFollowUps()}),t._UZ(29,"img",20),t.qZA(),t.TgZ(30,"div",21),t.NdJ("click",function(){return n.downloadLead()}),t.YNc(31,pe,2,1,"a",22),t.YNc(32,de,2,0,"a",23),t.qZA(),t.TgZ(33,"div",24),t.NdJ("click",function(){return n.onClickLink()}),t._UZ(34,"img",25),t.qZA(),t.TgZ(35,"div",26),t.NdJ("click",function(){return n.filterFollowups()}),t.YNc(36,ue,1,0,"i",27),t.YNc(37,me,1,0,"i",28),t.qZA()()()(),t.YNc(38,_e,4,0,"div",29),t.qZA(),t.TgZ(39,"div",0)(40,"div",30),t.YNc(41,ge,3,1,"mat-checkbox",31),t.ALo(42,"filter"),t.qZA()(),t.TgZ(43,"div",0)(44,"div",30),t.YNc(45,he,3,4,"p",32),t.qZA()(),t.YNc(46,fe,1,0,"app-nodata",33),t.ALo(47,"filter"),t.YNc(48,We,3,4,"div",34),t.ALo(49,"filter"),t.qZA(),t.TgZ(50,"div",35),t._UZ(51,"div",3),t.TgZ(52,"div",36)(53,"div",37)(54,"mat-card")(55,"input",38),t.NdJ("ngModelChange",function(a){return n.followupSearch=a})("input",function(a){return n.getSearchValue(a)}),t.qZA(),t.TgZ(56,"mat-calendar",39),t.NdJ("selectedChange",function(a){return n.selectedDate=a})("selectedChange",function(a){return n.selectDate(a)}),t.qZA()()()()()(),t.TgZ(57,"mat-paginator",40,41),t.NdJ("page",function(a){return n.onPageChangeNew(a)}),t.qZA()),2&e&&(t.xp6(5),t.ekj("active_tab","All"===n.selectedTab),t.xp6(3),t.hij("(",null==n.countDataValue?null:n.countDataValue.All,")"),t.xp6(1),t.ekj("active_tab","Upcoming"===n.selectedTab),t.xp6(1),t.hij(" Upcoming (",null==n.countDataValue?null:n.countDataValue.Upcoming,") "),t.xp6(1),t.ekj("active_tab","Done"===n.selectedTab),t.xp6(1),t.hij(" Done (",null==n.countDataValue?null:n.countDataValue.Done,") "),t.xp6(1),t.ekj("active_tab","Missed"===n.selectedTab),t.xp6(1),t.hij(" Missed (",null==n.countDataValue?null:n.countDataValue.Missed,") "),t.xp6(3),t.Q6J("ngIf",(null==n.renderingData?null:n.renderingData.length)>0),t.xp6(14),t.Q6J("ngIf",n.selectedCheckboxIds.length>0),t.xp6(1),t.Q6J("ngIf",0===n.selectedCheckboxIds.length),t.xp6(4),t.Q6J("ngIf",!n.filtered),t.xp6(1),t.Q6J("ngIf",n.filtered),t.xp6(1),t.Q6J("ngIf",n.filtered&&0===n.renderingData.length),t.xp6(3),t.Q6J("ngIf",t.xi3(42,28,n.renderingData,n.followupSearch).length>0)("ngIfElse",n.noResultsSection),t.xp6(4),t.Q6J("ngIf",n.selectedDate),t.xp6(1),t.Q6J("ngIf",!n.renderingData||0===(null==n.renderingData?null:n.renderingData.length)||0===t.xi3(47,31,n.renderingData,n.followupSearch).length),t.xp6(2),t.Q6J("ngIf",t.xi3(49,34,n.renderingData,n.followupSearch).length>0)("ngIfElse",n.noResultsSection),t.xp6(7),t.Q6J("ngModel",n.followupSearch),t.xp6(1),t.Q6J("selected",n.selectedDate),t.xp6(1),t.Q6J("length",n.totalNumberOfRecords)("pageSizeOptions",t.DdM(37,Xe)))},dependencies:[d.mk,d.sg,d.O5,f.lW,C.Hw,oe._H,P.oG,h.a8,V.NW,r.Fj,r.JJ,r.On,y.jt,y.iD,y.Vi,ne.H,ae,d.gd,d.rS,d.uU,J.Z],styles:[".bi-camera-video-fill[_ngcontent-%COMP%], .bi-telephone-fill[_ngcontent-%COMP%], .bi-chat-left-dots-fill[_ngcontent-%COMP%], .bi-envelope-fill[_ngcontent-%COMP%], .bi-whatsapp[_ngcontent-%COMP%], .bi-wechat[_ngcontent-%COMP%]{color:var(--appColor);font-size:14px}.custom-height-set[_ngcontent-%COMP%]{height:68vh;overflow-y:auto!important}input[_ngcontent-%COMP%]:focus{outline:none}input[_ngcontent-%COMP%]{width:100%;padding:7px!important;font-size:14px!important;border:0px solid #cdc7c7;background:transparent}.custom-calendar[_ngcontent-%COMP%]{width:100%}.app-list[_ngcontent-%COMP%]{padding:3px}.more-dropdown[_ngcontent-%COMP%]{width:191px;padding:20px}.inner-expansion[_ngcontent-%COMP%]{box-shadow:0!important;border:1px solid #f3f3f3;font-size:11px;background-color:#fff9f5;box-shadow:none!important;margin-top:10px}.col-12.pannel-label[_ngcontent-%COMP%]{color:gray;line-height:22px}p[_ngcontent-%COMP%]:hover{cursor:pointer}mat-card[_ngcontent-%COMP%]{box-shadow:none!important;padding-bottom:0!important}i[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{color:var(--appColor)}.forward-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:-8px;font-size:8px}.replay-icon[_ngcontent-%COMP%]{position:absolute;bottom:9px;right:8px;font-size:12px;transform:rotate(100deg)}.bi-arrow-down-up[_ngcontent-%COMP%]{font-size:x-large;color:var(--appColor)}.p-1[_ngcontent-%COMP%]{text-align:center}.btn-outline-primary[_ngcontent-%COMP%]:hover   .bi-search[_ngcontent-%COMP%]{color:#fff}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none!important;border:1px solid var(--appColor)!important}.form-control[_ngcontent-%COMP%]{box-shadow:none!important;border:1px solid var(--appColor)!important}.go-back[_ngcontent-%COMP%]{background-color:var(--appColor);color:#fff}.bi-arrow-left-circle-fill[_ngcontent-%COMP%]{color:#fff}.demo-inline-calendar-card[_ngcontent-%COMP%]{width:310px}.allFollowup[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:flex-start}.active_tab[_ngcontent-%COMP%]{border-bottom:3px solid orange}.clearIcon[_ngcontent-%COMP%]{color:red;right:20px;position:relative;cursor:pointer}.student-badge[_ngcontent-%COMP%]{color:#000;border:1px solid var(--appColor);padding:3px;font-size:10px;line-height:11px;vertical-align:middle}.lead-card-container[_ngcontent-%COMP%]{font-size:11px;color:#000!important;border:1px solid #e7e7e7;margin:10px 2px;padding:10px!important}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none!important}.stu-close-icon[_ngcontent-%COMP%], .msg-close-icon[_ngcontent-%COMP%]{vertical-align:text-top;color:red}.msg-close-icon[_ngcontent-%COMP%]{position:absolute;top:-6px;right:14px}.status-box[_ngcontent-%COMP%]{border:1px solid #484848}.top-bar[_ngcontent-%COMP%]{background-color:#484848;color:#fff;font-size:10px;text-overflow:ellipsis!important;padding:3px 3px 7px;text-align:center}.erp-box[_ngcontent-%COMP%]{border:1px solid #FFF;color:#fff;padding-bottom:3px;background-color:#484848}.truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.position-absol[_ngcontent-%COMP%]{position:absolute;top:8px;left:4px}.bi-telephone[_ngcontent-%COMP%], .bi-chat-left[_ngcontent-%COMP%], .bi-envelope[_ngcontent-%COMP%], .bi-chat-left-text[_ngcontent-%COMP%]{color:var(--appColor)}.border-r[_ngcontent-%COMP%]{border-right:1px solid gray}.clr-person-1[_ngcontent-%COMP%], .clr-person-2[_ngcontent-%COMP%], .clr-person-3[_ngcontent-%COMP%]{background-color:#484848;color:#fff;position:absolute;top:13px;font-size:8px;right:3px}.clr-person-2[_ngcontent-%COMP%]{background-color:red!important}.clr-person-3[_ngcontent-%COMP%]{background-color:green!important}.bi-person[_ngcontent-%COMP%]{font-size:18px}.viewAll[_ngcontent-%COMP%]{color:var(--appColor);cursor:pointer}.bi-camera-video[_ngcontent-%COMP%], .bi-telephone[_ngcontent-%COMP%], .bi-chat-dots[_ngcontent-%COMP%], .bi-envelope[_ngcontent-%COMP%], .bi-whatsapp[_ngcontent-%COMP%], .bi-wechat[_ngcontent-%COMP%], .bi-funnel-fill[_ngcontent-%COMP%]{color:var(--appColor);font-size:19px!important}.common-class[_ngcontent-%COMP%]{color:gray!important;font-size:22px}.bi-whatsapp[_ngcontent-%COMP%]{color:green}.dropdown-menu.show[_ngcontent-%COMP%]{font-size:12px}.badge[_ngcontent-%COMP%]{cursor:pointer}.custom-height-set[_ngcontent-%COMP%]{height:85%;overflow-y:auto!important;padding-bottom:30px}.pannel-label[_ngcontent-%COMP%]{font-weight:bolder}.row[_ngcontent-%COMP%]{font-size:1 rem!important}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex!important;justify-content:end!important}.icon-rtl[_ngcontent-%COMP%]{background:url(https://static.thenounproject.com/png/101791-200.png) no-repeat right 25px center;background-size:20px}.yellow[_ngcontent-%COMP%]{color:orange}.green[_ngcontent-%COMP%]{color:green}.red[_ngcontent-%COMP%]{color:red}[title][_ngcontent-%COMP%]:hover:after{color:orange!important;cursor:pointer;border:none!important;font-size:12px}img[_ngcontent-%COMP%]{cursor:pointer}p[_ngcontent-%COMP%]{font-size:14px;font-weight:bolder}div[_ngcontent-%COMP%]{font-size:12px}.mat-card[_ngcontent-%COMP%]{background:none!important;color:#000000de}"]}),o})(),to=(()=>{class o{constructor(e,n){this._bottomSheet=e,this.dialog=n,this.leadCards=[{name:"Student 1",badgeCount:16,id:"2067638819",status:"Untouched",leadStatus:"Fresh Lead",erp:!0,phoneNumber:1,chatCount:1,emailCount:0,personCounts:[5,4,2]},{name:"Student 2",badgeCount:5,id:"2067638819",status:"Untouched",leadStatus:"Fresh Lead",erp:!0,phoneNumber:1,chatCount:1,emailCount:0,personCounts:[5,0,0]},{name:"Student 3",badgeCount:2,id:"2067638819",status:"Untouched",leadStatus:"Fresh Lead",erp:!0,phoneNumber:1,chatCount:1,emailCount:0,personCounts:[5,2,1]},{name:"Student 2",badgeCount:5,id:"2067638819",status:"Untouched",leadStatus:"Fresh Lead",erp:!0,phoneNumber:1,chatCount:1,emailCount:0,personCounts:[5,0,0]},{name:"Student 3",badgeCount:2,id:"2067638819",status:"Untouched",leadStatus:"Fresh Lead",erp:!0,phoneNumber:1,chatCount:1,emailCount:0,personCounts:[5,2,1]}]}ngOnInit(){}openAddNew(){}uploadLeads(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.ch),t.Y36(p.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-followup-card"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"app-my-followup-card-content")},dependencies:[B],styles:[".add-btn[_ngcontent-%COMP%]{position:fixed;bottom:7rem;right:2px;z-index:1}.upload-btn[_ngcontent-%COMP%]{position:fixed;bottom:3rem;right:2px;z-index:1}.forward-icon[_ngcontent-%COMP%]{border-left:2px solid white;transform:rotate(-90deg)}"]}),o})(),eo=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-followup-layout"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"app-my-followup-card")},dependencies:[to]}),o})();const oo=[{path:"",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-followups"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"app-my-followup-layout")},dependencies:[eo]}),o})()},{path:"edit-followup/:id",component:$}];let no=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[v.Bz.forChild(oo),d.ez,v.Bz]}),o})();const lo=[{path:"myfollowup-card-content",component:B}];let io=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[v.Bz.forChild(lo),v.Bz]}),o})();var W=c(3773),X=c(4466),ao=c(266);let ro=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:m.oL,useValue:{}},{provide:m.OG,useValue:{}}],imports:[d.ez,io,W.q,m._r,X.m,V.TU,R.n1.forRoot(),ao.AV,J.h]}),o})(),so=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,no,ro,X.m,m._r,h.QW,W.q,J.h]}),o})()}}]);